(function(t){function o(o){for(var r,a,n=o[0],l=o[1],c=o[2],d=0,f=[];d<n.length;d++)a=n[d],s[a]&&f.push(s[a][0]),s[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);p&&p(o);while(f.length)f.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,o=0;o<i.length;o++){for(var e=i[o],r=!0,n=1;n<e.length;n++){var l=e[n];0!==s[l]&&(r=!1)}r&&(i.splice(o--,1),t=a(a.s=e[0]))}return t}var r={},s={app:0},i=[];function a(o){if(r[o])return r[o].exports;var e=r[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,o,e){a.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,o){if(1&o&&(t=a(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)a.d(e,r,function(o){return t[o]}.bind(null,r));return e},a.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},a.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=o,n=n.slice();for(var c=0;c<n.length;c++)o(n[c]);var p=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"034f":function(t,o,e){"use strict";var r=e("27fb"),s=e.n(r);s.a},"227c":function(t,o,e){"use strict";var r=e("baf1"),s=e.n(r);s.a},"230d":function(t,o,e){"use strict";var r=e("62a0"),s=e.n(r);s.a},"27fb":function(t,o,e){},"434f":function(t,o,e){},"56d7":function(t,o,e){"use strict";e.r(o);e("cadf"),e("551c"),e("097d");var r=e("2b0e"),s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"menu"},[e("p",{staticClass:"item"},[e("router-link",{attrs:{to:"/"}},[t._v("Линия")])],1),e("p",{staticClass:"item"},[e("router-link",{attrs:{to:"/way"}},[t._v("Карта")])],1),e("p",{staticClass:"item"},[e("router-link",{attrs:{to:"/trams"}},[t._v("Депо")])],1),e("p",{staticClass:"item"},[e("router-link",{attrs:{to:"/info"}},[t._v("Инфо")])],1)]),e("router-view"),e("div",{staticClass:"control"},[e("div",{staticClass:"control__panel"},[e("div",{staticClass:"control__panel-group"},[t._v("\n        trams:\n        "),e("button",{on:{click:t.newtramcl}},[t._v("\n          new\n        ")]),e("button",{on:{click:t.prevtramcl}},[t._v("\n          prev\n        ")]),e("button",{on:{click:t.nexttramcl}},[t._v("\n          next\n        ")]),t._v("\n        "+t._s(t.filterprice)+"$\n      ")])])])],1)},i=[],a=(e("28a5"),e("c93e")),n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"page"},[e("div",{staticClass:"tramline"},[e("appline")],1)])},l=[],c=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{ref:"lineref",staticClass:"line"},[t._l(t.getcurrstop,function(o,r){return e("div",{key:"cntnet"+r,staticClass:"contactnet",style:"left:"+r*t.posContact+"px"},[e("contactnetwork")],1)}),e("div",{ref:"tram",class:"line__tram tram__"+t.gettrampos},[e("tram",{attrs:{id:t.currtram.id,linenumber:t.currtram.idline,idstop:t.currtram.idstop,count:t.currtram.count,money:t.currmoney,max:t.currtram.max,mode:t.currtram.mode,blocked:t.currtram.blocked,color:t.currtram.color},on:{enter:t.getpass,move:t.move}})],1),e("div",{staticClass:"line__stops"},t._l(t.getcurrstop,function(o,r){return e("div",{key:r,staticClass:"line__stop",style:"left:"+r*t.posStop+"px",attrs:{id:"stop_"+(r+1)}},[e("stop",{attrs:{name:o.name,active:o.id===t.currtram.idstop,"count-in":t.getinpass,"count-out":t.getoutpass,"line-number":t.lnnumber}})],1)}))],2)},p=[],d=(e("ac4d"),e("8a81"),e("ac6a"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("svg",{staticClass:"tram",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 50",width:"250",height:"150"}},[e("ktm5",{attrs:{id:t.id,linenumber:t.linenumber,idstop:t.idstop,count:t.count,money:t.money,max:t.max,mode:t.mode,blocked:t.blocked,color:t.color,door:t.door},on:{tramclick:t.tramclick}})],1)}),f=[],u=(e("c5f6"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("g",[e("circle",{attrs:{cx:t.passX,cy:t.passY,fill:t.passColor,r:"2.5"}}),e("rect",{attrs:{x:t.passX-1.5,y:t.passY+2.5,fill:t.passColor,width:"3",height:"8"}}),e("line",{attrs:{x1:t.passX-3.5,y1:t.passY+3.5,x2:t.passX+3.5,y2:t.passY+3.5,stroke:t.passColor,"stroke-width":"1.5"}}),e("line",{attrs:{x1:t.passX-2.5,y1:t.passY+3.5,x2:t.passX-2.5,y2:t.passY+7.5,stroke:t.passColor,"stroke-width":"1.5"}}),e("line",{attrs:{x1:t.passX+2.5,y1:t.passY+3.5,x2:t.passX+2.5,y2:t.passY+7.5,stroke:t.passColor,"stroke-width":"1.5"}}),e("line",{attrs:{x1:t.passX-.9,y1:t.passY+8,x2:t.passX-.9,y2:t.passY+15,stroke:t.passColor,"stroke-width":"1.5"}}),e("line",{attrs:{x1:t.passX+.9,y1:t.passY+8,x2:t.passX+.9,y2:t.passY+15,stroke:t.passColor,"stroke-width":"1.5"}})])}),h=[],m={props:{passX:{type:Number,default:0},passY:{type:Number,default:0},passColor:{type:String,default:"rgba(200, 200, 60, 0.6)"}}},y=m,w=e("2877"),v=Object(w["a"])(y,u,h,!1,null,null,null);v.options.__file="passunit.vue";var x=v.exports,g=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("g",[e("linearGradient",{attrs:{id:"windowcolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.9",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#1243a0","stop-opacity":"0.7",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#1243a0","stop-opacity":"0.9",offset:"60%"}})],1),e("linearGradient",{attrs:{id:"bodybottom",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"white","stop-opacity":"0.9",offset:"0%"}}),e("stop",{attrs:{"stop-color":"white","stop-opacity":"0.7",offset:"40%"}}),e("stop",{attrs:{"stop-color":"white","stop-opacity":"0.8",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#dedede","stop-opacity":"0.5",offset:"80%"}})],1),e("radialGradient",{attrs:{id:"ring"}},[e("stop",{attrs:{"stop-color":"#636363","stop-opacity":"1",offset:"0%"}}),e("stop",{attrs:{"stop-color":"black","stop-opacity":"1",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#232323","stop-opacity":"1",offset:"70%"}}),e("stop",{attrs:{"stop-color":"#333333","stop-opacity":"1",offset:"90%"}})],1),"red"===t.color?e("g",{attrs:{id:"ktm5red"}},[e("linearGradient",{attrs:{id:"doorcolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"#2294e0","stop-opacity":"0.5",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#5de4e0","stop-opacity":"0.3",offset:"20%"}}),e("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.6",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#ed5450","stop-opacity":"1",offset:"45%"}}),e("stop",{attrs:{"stop-color":"#ed1410","stop-opacity":"1",offset:"100%"}})],1),e("linearGradient",{attrs:{id:"bodycolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"#ed2420","stop-opacity":"0.6",offset:"0%"}}),e("stop",{attrs:{"stop-color":"red","stop-opacity":"0.8",offset:"20%"}}),e("stop",{attrs:{"stop-color":"#ed2420","stop-opacity":"0.6",offset:"40%"}}),e("stop",{attrs:{"stop-color":"red","stop-opacity":"0.8",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#ed2420","stop-opacity":"0.6",offset:"80%"}}),e("stop",{attrs:{"stop-color":"red","stop-opacity":"0.8",offset:"100%"}})],1)],1):t._e(),"yellow"===t.color?e("g",{attrs:{id:"ktm5yellow"}},[e("linearGradient",{attrs:{id:"doorcolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"#2294e0","stop-opacity":"0.5",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#2de2c0","stop-opacity":"0.3",offset:"20%"}}),e("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.6",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#bdc450","stop-opacity":"1",offset:"45%"}}),e("stop",{attrs:{"stop-color":"#7d7220","stop-opacity":"1",offset:"100%"}})],1),e("linearGradient",{attrs:{id:"bodycolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"#7d7420","stop-opacity":"0.6",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#ada220","stop-opacity":"0.8",offset:"20%"}}),e("stop",{attrs:{"stop-color":"#7d7420","stop-opacity":"0.6",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#ada220","stop-opacity":"0.8",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#7d7420","stop-opacity":"0.6",offset:"80%"}}),e("stop",{attrs:{"stop-color":"#ada220","stop-opacity":"0.8",offset:"100%"}})],1)],1):t._e(),"blue"===t.color?e("g",{attrs:{id:"ktm5blue"}},[e("linearGradient",{attrs:{id:"doorcolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"#2294e0","stop-opacity":"0.5",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#5de4e0","stop-opacity":"0.3",offset:"20%"}}),e("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.6",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#5d54c0","stop-opacity":"1",offset:"45%"}}),e("stop",{attrs:{"stop-color":"#3d34a0","stop-opacity":"1",offset:"100%"}})],1),e("linearGradient",{attrs:{id:"bodycolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"#2d24c0","stop-opacity":"0.6",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#2227a0","stop-opacity":"0.8",offset:"20%"}}),e("stop",{attrs:{"stop-color":"#3d34a0","stop-opacity":"0.6",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#2227a0","stop-opacity":"0.8",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#3d34a0","stop-opacity":"0.6",offset:"80%"}}),e("stop",{attrs:{"stop-color":"#2227a0","stop-opacity":"0.8",offset:"100%"}})],1)],1):t._e(),e("g",{attrs:{id:"mustache"}},[e("line",{attrs:{x1:t.directtram,x2:t.directtram+7.5,y1:"15",y2:"9.5",stroke:"#de4328","stroke-width":"0.75"}}),e("line",{attrs:{x1:t.directtram,x2:t.directtram+7.5,y1:"3.5",y2:"9.5",stroke:"#de4328","stroke-width":"0.75"}}),e("line",{attrs:{x1:t.directtram,x2:t.directtram-7.5,y1:"15",y2:"9.5",stroke:"#de4328","stroke-width":"0.75"}}),e("line",{attrs:{x1:t.directtram,x2:t.directtram-7.5,y1:"3.5",y2:"9.5",stroke:"#de4328","stroke-width":"0.75"}}),e("line",{attrs:{x1:t.directtram-2.5,x2:t.directtram+2.5,y1:"3.4",y2:"3.4",stroke:"#de4328","stroke-width":"0.75"}}),e("line",{attrs:{x1:t.directtram,x2:t.directtram,y1:"3.4",y2:"3.5",stroke:"#de4328","stroke-width":"0.75"}})]),e("g",{attrs:{id:"body"},on:{click:function(o){t.$emit("tramclick")}}},[e("rect",{attrs:{x:"5",y:"15",width:"68",height:"20",fill:"url(#bodybottom)",stroke:"#343434","stroke-width":"0.15"}}),e("rect",{attrs:{id:"bodycolor",x:"5.15",y:"24",width:"67.70",height:"7",fill:"url(#bodycolor)",stroke:"#ee59e6","stroke-width":"0.15"}}),e("text",{attrs:{x:20.5===t.directtram?22:48,y:"28.95",fill:"#EDede6","font-size":"6","font-family":"Courier new","font-weight":"bold"}},[t._v("\n      "+t._s(t.tramid)+"\n    ")]),e("g",{attrs:{id:"wheels"}},[e("rect",{attrs:{x:"18",y:"32.5",width:"12",height:"2.5",fill:"#444"}}),e("rect",{attrs:{x:"43.5",y:"32.5",width:"12",height:"2.5",fill:"#444"}}),e("circle",{attrs:{cx:"21.65",cy:"35",r:"2",fill:"url(#ring)"}}),e("circle",{attrs:{cx:"26.65",cy:"35",r:"2",fill:"url(#ring)"}}),e("circle",{attrs:{cx:"47.15",cy:"35",r:"2",fill:"url(#ring)"}}),e("circle",{attrs:{cx:"52.15",cy:"35",r:"2",fill:"url(#ring)"}})]),e("g",{attrs:{id:"windows"}},[e("rect",{attrs:{x:"5",y:"15.15",width:"3",height:"8.5",fill:"url(#windowcolor)",stroke:"#999999","stroke-width":"0.15"}}),e("rect",{attrs:{x:"8.15",y:"15.15",width:"9",height:"8.5",fill:"url(#windowcolor)",stroke:"#999999","stroke-width":"0.15"}}),e("rect",{attrs:{x:"33",y:"15.15",width:"9",height:"8.5",fill:"rgba(34,34,120,0.8)",stroke:"#999999","stroke-width":"0.15"}}),e("rect",{attrs:{x:"8.15",y:"15.15",width:"9",height:"8.5",fill:"url(#windowcolor)",stroke:"#999999","stroke-width":"0.15"}}),e("rect",{attrs:{x:"58",y:"15.15",width:"9",height:"8.5",fill:"url(#windowcolor)",stroke:"#999999","stroke-width":"0.15"}}),e("rect",{attrs:{x:"17.15",y:"15.15",width:"16",height:"8.70",fill:"url(#windowcolor)",stroke:"#ededed","stroke-width":"0.15"}}),e("rect",{attrs:{x:"42.15",y:"15.15",width:"16",height:"8.70",fill:"url(#windowcolor)",stroke:"#ededed","stroke-width":"0.15"}}),e("rect",{attrs:{x:"67.15",y:"15.15",width:"6",height:"8.70",fill:"url(#windowcolor)",stroke:"#ededed","stroke-width":"0.15"}}),e("line",{attrs:{x1:"17.15",y1:"19",x2:"33",y2:"19",stroke:"#ededed","stroke-width":"0.15"}}),e("line",{attrs:{x1:"24.75",y1:"15",x2:"24.75",y2:"19",stroke:"#ededed","stroke-width":"0.15"}}),e("line",{attrs:{x1:"33.15",y1:"19",x2:"58",y2:"19",stroke:"#ededed","stroke-width":"0.15"}}),e("line",{attrs:{x1:"49.75",y1:"15",x2:"49.75",y2:"19",stroke:"#ededed","stroke-width":"0.15"}})]),e("g",{attrs:{id:"armcharms"}},[e("g",{ref:"lastarm"},[e("rect",{attrs:{x:"8.15",y:"22",width:"2",height:"4",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"8.15",y:"26",width:"6",height:"1",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"10.15",y:"27",width:"2",height:"2",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"17.15",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),e("g",{ref:"lastpass"},[e("circle",{attrs:{cx:"11.15",cy:"20",r:"1.3",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"9.55",y:"21.3",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"11.05",y:"24.5",width:"3.28",height:"1.4",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"14.55",y:"24.5",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}})])]),e("g",{ref:"middlearm"},[e("rect",{attrs:{x:"33",y:"22",width:"2",height:"4",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"33",y:"26",width:"6",height:"1",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"35",y:"27",width:"2",height:"2",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"33",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),e("g",{ref:"middlepass"},[e("circle",{attrs:{cx:"36",cy:"20",r:"1.3",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"34.55",y:"21.3",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"36.05",y:"24.5",width:"3.28",height:"1.4",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"39.55",y:"24.5",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}})])]),e("g",{ref:"firstarm"},[e("rect",{attrs:{x:"58",y:"22",width:"2",height:"4",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"58",y:"26",width:"6",height:"1",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"60",y:"27",width:"2",height:"2",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),e("rect",{attrs:{x:"58",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),e("g",{ref:"firstpass"},[e("circle",{attrs:{cx:"61.15",cy:"20",r:"1.3",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"59.55",y:"21.3",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"61.05",y:"24.5",width:"3.28",height:"1.4",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),e("rect",{attrs:{x:"64.55",y:"24.5",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}})])]),e("rect",{attrs:{x:"24.75",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),e("rect",{attrs:{x:"42.15",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),e("rect",{attrs:{x:"49.75",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),e("rect",{attrs:{x:"67.15",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}})]),e("g",{attrs:{id:"enter"}},[e("rect",{attrs:{x:"8.15",y:"29",width:"9",height:"3",fill:"rgba(88,88,88, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),e("rect",{attrs:{x:"8.15",y:"31.5",width:"9",height:"3",fill:"rgba(68,68,68, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),e("rect",{attrs:{x:"33",y:"29",width:"9",height:"3",fill:"rgba(88,88,88, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),e("rect",{attrs:{x:"33",y:"31.5",width:"9",height:"3",fill:"rgba(68,68,68, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),e("rect",{attrs:{x:"58",y:"29",width:"9",height:"3",fill:"rgba(88,88,88, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),e("rect",{attrs:{x:"58",y:"31.5",width:"9",height:"3",fill:"rgba(68,68,68, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}})]),e("g",{attrs:{id:"numtab"}},[e("rect",{ref:"lnnumber",attrs:{id:"lnnumber",x:t.directtram-2.5,y:"15",width:"8",height:"5.20",fill:"rgba(34,34,34,0.9)",stroke:"#ededed","stroke-width":"0.15"}}),e("text",{attrs:{x:t.directtram-2.5,y:"19.85",fill:"#EDeE36","font-size":"6.5"}},[t._v("\n        "+t._s(t.linenumber)+"\n      ")])]),e("g",[e("text",{attrs:{x:"10",y:"5",fill:"#EDede6","font-size":"5","font-family":"'Leckerli One', cursive","font-weight":"bold"}},[t._v("\n        "+t._s(t.blocked?"blocked":t.count)+"\n      ")])]),e("g",{attrs:{id:"door"}},[e("rect",{ref:"lastdoor",attrs:{id:"lastdoor",x:8.15+t.posDoor,y:"15.15",width:"9",height:"20",fill:"url(#doorcolor)",stroke:"#ededed","stroke-width":"0.15"}}),e("rect",{ref:"middledoor",attrs:{id:"middledoor",x:33+t.posDoor,y:"15.15",width:"9",height:"20",fill:"url(#doorcolor)",stroke:"#ededed","stroke-width":"0.15"}}),e("rect",{ref:"firstdoor",attrs:{id:"firstdoor",x:58-t.posDoor,y:"15.15",width:"9",height:"20",fill:"url(#doorcolor)",stroke:"#ededed","stroke-width":"0.15"}})])])],1)},k=[],b={props:{color:{type:String,default:"red"},id:{type:Number,default:0},linenumber:{type:Number,default:0},idstop:{type:Number,default:0},count:{type:Number,default:0},money:{type:Number,default:0},door:{type:Boolean,default:!1},mode:{type:String,default:"to"},blocked:{type:Boolean,default:!1}},computed:{directtram:function(){return"to"===this.mode?52.5:"from"===this.mode?20.5:void 0},tramid:function(){return this.id<10?"00"+this.id:this.id>=10&&this.id<=99?"0"+this.id:""+this.id},posDoor:function(){return this.door?8.15:0}}},_=b,S=Object(w["a"])(_,g,k,!1,null,null,null);S.options.__file="ktm5.vue";var O=S.exports,C={components:{passunit:x,ktm5:O},props:{id:{type:Number,default:0},linenumber:{type:Number,default:0},idstop:{type:Number,default:0},count:{type:Number,default:0},money:{type:Number,default:0},max:{type:Number,default:0},mode:{type:String,default:"to"},blocked:{type:Boolean,default:!1},color:{type:String,default:"red"}},data:function(){return{door:!1}},computed:{posDoor:function(){return this.door?8.15:0}},methods:{tramclick:function(){console.log("tram click"),this.door?this.$emit("move"):this.$emit("enter"),this.door=!this.door}}},E=C,T=Object(w["a"])(E,d,f,!1,null,null,null);T.options.__file="tram.vue";var $=T.exports,j=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 50",width:"250",height:"140"}},[e("linearGradient",{attrs:{id:"fieldbottom",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"#245","stop-opacity":"0.6",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#5a6","stop-opacity":"0.7",offset:"10%"}}),e("stop",{attrs:{"stop-color":"#434349","stop-opacity":"0.5",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#eee","stop-opacity":"0.5",offset:"41%"}}),e("stop",{attrs:{"stop-color":"#224","stop-opacity":"0.6",offset:"42%"}}),e("stop",{attrs:{"stop-color":"#224","stop-opacity":"0.6",offset:"69%"}}),e("stop",{attrs:{"stop-color":"#eee","stop-opacity":"0.5",offset:"70%"}}),e("stop",{attrs:{"stop-color":"#232359","stop-opacity":"0.5",offset:"71%"}}),e("stop",{attrs:{"stop-color":"#23e329","stop-opacity":"0.5",offset:"100%"}})],1),e("linearGradient",{attrs:{id:"greenfield",x1:"0",x2:"0",y1:"1",y2:"0"}},[e("stop",{attrs:{"stop-color":"#898","stop-opacity":"0.6",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#2a5","stop-opacity":"0.7",offset:"50%"}}),e("stop",{attrs:{"stop-color":"green","stop-opacity":"0.9",offset:"100%"}})],1),e("linearGradient",{attrs:{id:"rails",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"#cccccc","stop-opacity":"0.5",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#303030","stop-opacity":"0.5",offset:"20%"}}),e("stop",{attrs:{"stop-color":"#101010","stop-opacity":"0.8",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#444","stop-opacity":"0.8",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#222","stop-opacity":"0.9",offset:"80%"}}),e("stop",{attrs:{"stop-color":"#222","stop-opacity":"0.9",offset:"100%"}})],1),e("linearGradient",{attrs:{id:"stopbrus",x1:"0",x2:"2",y1:"0",y2:"0",spreadMethod:"repeat"}},[e("stop",{attrs:{"stop-color":"#aaa",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#eee",offset:"10%"}}),e("stop",{attrs:{"stop-color":"#aaa",offset:"20%"}}),e("stop",{attrs:{"stop-color":"#eee",offset:"30%"}}),e("stop",{attrs:{"stop-color":"#aaa",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#eee",offset:"50%"}}),e("stop",{attrs:{"stop-color":"#aaa",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#eee",offset:"70%"}}),e("stop",{attrs:{"stop-color":"#aaa",offset:"80%"}}),e("stop",{attrs:{"stop-color":"#eee",offset:"90%"}}),e("stop",{attrs:{"stop-color":"#aaa",offset:"100%"}})],1),e("linearGradient",{attrs:{id:"brus",x1:"0",x2:"2",y1:"0",y2:"0"}},[e("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"10%"}}),e("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"20%"}}),e("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"30%"}}),e("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"50%"}}),e("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"70%"}}),e("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"80%"}}),e("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"90%"}}),e("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"100%"}})],1),e("rect",{attrs:{x:"45",y:"5",width:"100",height:"15",fill:"url(#fieldbottom)"}}),e("rect",{attrs:{x:"0",y:"5",width:"5",height:"15",fill:"url(#fieldbottom)"}}),e("rect",{attrs:{x:"0",y:"20",width:"100",height:"22",fill:"url(#greenfield)"}}),t._l(15,function(o){return e("rect",{key:o+t.name,attrs:{x:16*o-150,y:"2",width:"17",height:"2",fill:"url(#rails)",stroke:"url(#rails)","stroke-width":"0.15"}})}),t._l(15,function(t){return e("rect",{key:t,attrs:{x:16*t-150,y:"4",width:"17",height:"1",fill:"url(#brus)",stroke:"url(#brus)","stroke-width":"0.15"}})}),e("text",{attrs:{x:"0",y:"30",fill:"#EDede6","font-size":"7","font-weight":"bold","font-family":"Courier new"}},[t._v("\n    "+t._s(t.name)+"\n  ")]),e("rect",{attrs:{opacity:t.active?.5:.2,fill:"url(#stopbrus)",x:"5",y:"5",width:"40",height:"15",stroke:"#343434","stroke-width":"0.15"}}),t.active?e("g",t._l(t.passCount,function(o){return e("passunit",{key:t.name+o,attrs:{"pass-x":7+8*o-8,"pass-y":2,"pass-color":"rgba(250, 250, 250, 0.6)"}})})):t._e(),e("rect",{attrs:{x:"10",y:"17",width:"10",height:"2",fill:"#c5c595"}}),e("rect",{attrs:{x:"10",y:"19",width:"2",height:"3",fill:"#959595"}}),e("rect",{attrs:{x:"18",y:"19",width:"2",height:"3",fill:"#959595"}}),e("rect",{attrs:{x:"43",y:"8",width:"0.5",height:"10",fill:"black"}}),e("rect",{attrs:{x:"38",y:"0",width:"10",height:"8",fill:"blue"}}),e("text",{attrs:{x:"38.7",y:"4",fill:"#EDede6","font-size":"4","font-family":"Courier new","font-weight":"bold"}},[t._v("\n    "+t._s(t.lineNumber)+"\n  ")])],2)},N=[],G={components:{passunit:x},props:{name:{type:String,default:"stop: NaN"},active:{type:Boolean,default:!1},countIn:{type:Number,default:0},countOut:{type:Number,default:0},lineNumber:{type:Number,default:1},widthStop:{type:Number,default:250}},computed:{passCount:function(){return 1+~~((this.countIn+this.countOut)/25)}}},A=G,R=Object(w["a"])(A,j,N,!1,null,null,null);R.options.__file="stop.vue";var D=R.exports,M=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("svg",{staticClass:"tram",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 50",width:"250",height:"150"}},[e("linearGradient",{attrs:{id:"field",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"green","stop-opacity":"0.9",offset:"0%"}}),e("stop",{attrs:{"stop-color":"#30a030","stop-opacity":"0.5",offset:"20%"}}),e("stop",{attrs:{"stop-color":"#10e010","stop-opacity":"0.8",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#272","stop-opacity":"0.8",offset:"60%"}}),e("stop",{attrs:{"stop-color":"#888","stop-opacity":"0.6",offset:"80%"}}),e("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.7",offset:"100%"}})],1),e("linearGradient",{attrs:{id:"air",x1:"0",x2:"0",y1:"0",y2:"1"}},[e("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.9",offset:"0%"}}),e("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.7",offset:"20%"}}),e("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.6",offset:"40%"}}),e("stop",{attrs:{"stop-color":"#0559a9","stop-opacity":"0.7",offset:"80%"}}),e("stop",{attrs:{"stop-color":"#4599e9","stop-opacity":"0.9",offset:"100%"}})],1),e("rect",{attrs:{x:"0",y:"0",width:"100",height:"35",fill:"url(#air)",stroke:"blue","stroke-width":"0.01"}}),e("rect",{attrs:{x:"0",y:"35",width:"100",height:"10",fill:"url(#field)",stroke:"green","stroke-width":"0.01"}}),e("rect",{attrs:{x:"82",y:"0",height:"50",width:"2",fill:"#aaa"}}),e("rect",{attrs:{x:"35",y:"0",height:"50",width:"2",fill:"#aaa"}}),e("line",{attrs:{x1:"35",y1:"24",x2:"36",y2:"19",stroke:"#414141","stroke-width":"0.95"}}),e("rect",{staticStyle:{transform:"rotateZ(9deg)"},attrs:{x:"38",y:"10",width:"3",height:"5",fill:"#deae96",stroke:"#efefef","stroke-width":"0.36"}}),e("line",{attrs:{x1:"0",y1:"8",x2:"100",y2:"8",stroke:"black","stroke-width":"0.45"}}),e("line",{attrs:{x1:"0",y1:"10.9",x2:"100",y2:"10.9",stroke:"black","stroke-width":"0.45"}}),e("line",{attrs:{x1:"27",y1:"6",x2:"27",y2:"10.9",stroke:"black","stroke-width":"0.85"}}),e("line",{attrs:{x1:"75",y1:"6",x2:"75",y2:"10.9",stroke:"black","stroke-width":"0.85"}}),e("line",{attrs:{x1:"35",y1:"2",x2:"21",y2:"10",stroke:"#414141","stroke-width":"0.95"}}),e("line",{attrs:{x1:"82",y1:"2",x2:"69",y2:"10",stroke:"#414141","stroke-width":"0.95"}})],1)},W=[],V={},X=Object(w["a"])(V,M,W,!1,null,null,null);X.options.__file="contactnetwork.vue";var Y=X.exports,z=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300",fill:"#999999"}},[e("text",{attrs:{x:"0",y:"15",fill:"#dede70"}},[t._v("\n    "+t._s(t.filterprice)+" $\n  ")]),t._l(t.line.way,function(o,r){return e("g",{key:r},[t._l(o.vectors,function(t,r){return e("line",{key:r,attrs:{x1:1.5*(o.x+t.x)+20,y1:1.5*(o.y+t.y)+20,x2:1.5*o.x+20,y2:1.5*o.y+20,r:"2.5",stroke:"#222222",fill:"#222222","stroke-width":"0.5"}})}),o.start||o.loop?e("g",[e("circle",{attrs:{cx:1.5*o.x+20,cy:1.5*o.y+20,stroke:"#de4567",fill:"#de4567",r:"2.5","stroke-width":"0.5"}})]):e("g",[e("circle",{attrs:{cx:1.5*o.x+20,cy:1.5*o.y+20,stroke:t.findactive(o.id)?"#df42df":"#222222",fill:t.findactive(o.id)?"#df42df":"#222222",r:"2","stroke-width":"0.5"}}),t.findactive(o.id)?e("text",{attrs:{x:1.5*o.x+20,y:1.5*o.y+16,stroke:"#df42df",fill:"#df42df","font-size":"20"}},[t._v("\n        "+t._s(t.tramnum(o.id))+"\n      ")]):t._e()])],2)})],2)},I=[],B=e("2f62"),L={computed:Object(a["a"])({},Object(B["b"])(["line","currtram","money","clientWidth"]),{filterprice:function(){if(!this.money)return"0.0";var t=(""+this.money).split("."),o=void 0!==t[1]?t[1].slice(0,2):this.money;return t[0]+"."+o}}),methods:{findactive:function(t){var o=!1,e=!0,r=!1,s=void 0;try{for(var i,a=this.line.trams[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var n=i.value;n.idstop===t&&(o=!0)}}catch(t){r=!0,s=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw s}}return o},tramnum:function(t){var o=!0,e=!1,r=void 0;try{for(var s,i=this.line.trams[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var a=s.value;if(a.idstop===t)return a.id+""+a.mode[0].toUpperCase()}}catch(t){e=!0,r=t}finally{try{o||null==i.return||i.return()}finally{if(e)throw r}}}}},P=L,H=(e("e40e"),Object(w["a"])(P,z,I,!1,null,"3bb764d0",null));H.options.__file="way.vue";var J=H.exports,Z={components:{tram:$,stop:D,way:J,contactnetwork:Y},data:function(){return{passCount:0,id:1,idout:0,idin:0,currmoney:0,moved:!0,lnnumber:1,tramid:1,widthStop:250}},computed:Object(a["a"])({},Object(B["b"])(["line","clientWidth","stop","tramsline","currtram"]),{trams:function(){return this.tramsline},gettrampos:function(){var t=this.line.way.length-1,o=this.currtram.idstop;return this.clientWidth<=432?0:this.clientWidth<=645?o?o<t?0:1:0:o?o<t?1:2:0},getcurrstop:function(){var t=this.line.way.length-1,o=this.currtram.idstop,e=this.line.way[o?o<=t-1?o-1:t-2:0],r=this.line.way[o?o<=t-1?o:t-1:1],s=this.line.way[o?o<t-1?o+1:t:2];return this.clientWidth<=432?[this.line.way[o]]:this.clientWidth<=645?o?[r,s]:[e,r]:[e,r,s]},getinpass:function(){var t=this,o=0,e=this.line.pass.filter(function(o){return o.instop===t.currtram.idstop}),r=!0,s=!1,i=void 0;try{for(var a,n=e[Symbol.iterator]();!(r=(a=n.next()).done);r=!0){var l=a.value;o+=l.count}}catch(t){s=!0,i=t}finally{try{r||null==n.return||n.return()}finally{if(s)throw i}}return o},getoutpass:function(){var t=this,o=0,e=this.line.pass.filter(function(o){return o.outstop===t.currtram.idstop}),r=!0,s=!1,i=void 0;try{for(var a,n=e[Symbol.iterator]();!(r=(a=n.next()).done);r=!0){var l=a.value;o+=l.count}}catch(t){s=!0,i=t}finally{try{r||null==n.return||n.return()}finally{if(s)throw i}}return o},getmoney:function(){var t=this,o=0,e=this.line.pass.filter(function(o){return o.instop===t.line.position}),r=!0,s=!1,i=void 0;try{for(var a,n=e[Symbol.iterator]();!(r=(a=n.next()).done);r=!0){var l=a.value;o+=l.count*l.price}}catch(t){s=!0,i=t}finally{try{r||null==n.return||n.return()}finally{if(s)throw i}}return o},getpassstop:function(){var t=this;return this.line.pass.filter(function(o){return o.instop===t.currtram.idstop})},posContact:function(){return 250},posStop:function(){return this.clientWidth,250},posStart:function(){return this.clientWidth<=800?220:250},cwidth:function(){return this.clientWidth<=750?this.clientWidth-50:250}}),methods:{getpass:function(){this.$store.dispatch("enterTram",{lineid:this.lnnumber,id:this.currtram.id})},move:function(){this.$store.dispatch("moveTram",{lineid:this.lnnumber,id:this.currtram.id}),this.$store.dispatch("storageSet")},nexttram:function(){this.tramid=2},genstopspass:function(){this.pass=[];var t=this.line.way.length,o=!0,e=!1,r=void 0;try{for(var s,i=this.line.way[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var a=s.value,n=~~(Math.random()*a.id)+(t-a.id),l=a.id,c=~~(30*Math.random()),p={instop:l,outstop:n,count:c,price:.3};a.end&&(p.instop=0),a.start&&(p.outstop=0),this.pass.push(p)}}catch(t){e=!0,r=t}finally{try{o||null==i.return||i.return()}finally{if(e)throw r}}}}},F=Z,U=(e("7f6e"),Object(w["a"])(F,c,p,!1,null,"44440a7e",null));U.options.__file="line.vue";var q=U.exports,K={components:{appline:q}},Q=K,tt=(e("cccb"),Object(w["a"])(Q,n,l,!1,null,null,null));tt.options.__file="Home.vue";var ot=tt.exports,et={components:{appHome:ot},computed:Object(a["a"])({},Object(B["b"])(["money"]),{filterprice:function(){if(!this.money)return"0.0";var t=(""+this.money).split("."),o=void 0!==t[1]?t[1].slice(0,2):this.money;return t[0]+"."+o}}),created:function(){this.$store.dispatch("addTram",{idline:1})},methods:{newtramcl:function(){console.log("new"),this.$store.dispatch("addTram",{idline:1}),this.$store.dispatch("storageSet")},prevtramcl:function(){this.$store.dispatch("selTram",{mode:"prev"})},nexttramcl:function(){this.$store.dispatch("selTram",{mode:"next"})}}},rt=et,st=(e("034f"),Object(w["a"])(rt,s,i,!1,null,null,null));st.options.__file="App.vue";var it=st.exports,at=e("8c4f"),nt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"map"},[e("appway")],1)},lt=[],ct={components:{appway:J}},pt=ct,dt=(e("9424"),Object(w["a"])(pt,nt,lt,!1,null,null,null));dt.options.__file="Way.vue";var ft=dt.exports,ut=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"list"},[e("applistlinetram")],1)},ht=[],mt=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ul",{staticClass:"listlinetram"},t._l(t.line.trams,function(o){return e("li",{key:o.id,staticClass:"listlinetram__item",style:o.id===t.line.currtram?"color: white":"color: #aaa"},[e("span",{staticStyle:{color:"plum"}},[t._v("id:")]),e("span",{attrs:{title:"id"}},[t._v(" "+t._s(o.id)+" ")]),e("span",{staticStyle:{color:"plum"}},[t._v("model:")]),e("span",{attrs:{title:"model"}},[t._v(" "+t._s(o.model)+" ")]),e("span",{staticStyle:{color:"plum"}},[t._v("count:")]),e("span",{attrs:{title:"count"}},[t._v(" "+t._s(o.count)+" /  "+t._s(o.max)+" ")]),e("span",{staticStyle:{color:"plum"}},[t._v("dir:")]),e("span",{attrs:{title:"mode"}},[t._v(" "+t._s(o.mode.toUpperCase())+" ")]),e("span",{staticStyle:{color:"plum"}},[t._v("price:")]),e("span",{attrs:{title:"price"}},[t._v(" "+t._s(o.price)+"$ ")]),e("span",{attrs:{title:"status"}},[t._v(" "+t._s(o.depot?"depot":"")+" "+t._s(o.blocked?"blocked":"drive")+" ")]),e("span",{staticStyle:{color:"plum"}},[t._v("loops:")]),e("span",{attrs:{title:"loops"}},[t._v(" "+t._s(o.loops)+" ")])])}))},yt=[],wt=(e("20d6"),{computed:Object(a["a"])({},Object(B["b"])(["line"])),methods:{findactive:function(t){return this.line.position.findIndex(function(o){return o.idstop===t})},newtramcl:function(){console.log("new tram"),this.$store.dispatch("addTram",{idline:this.line.number})}}}),vt=wt,xt=(e("230d"),Object(w["a"])(vt,mt,yt,!1,null,null,null));xt.options.__file="listlinetram.vue";var gt=xt.exports,kt={components:{applistlinetram:gt}},bt=kt,_t=(e("227c"),Object(w["a"])(bt,ut,ht,!1,null,null,null));_t.options.__file="Trams.vue";var St=_t.exports,Ot=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"info"},[e("h3",[t._v("Разработчик")]),t._m(0),e("p",[t._v("Версия сборки: "+t._s(t.infogame.appVersion))]),e("p",[t._v("Количество трамваев: "+t._s(t.infogame.counttrams))]),e("p",[t._v("Сумма денег: "+t._s(t.infogame.money))]),e("button",{on:{click:t.clsCash}},[t._v("Очистить кеш")])])},Ct=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("h4",[e("a",{attrs:{href:"https://ivanshavliuga.github.io/"}},[t._v("Иван Шавлюга")])])}],Et={computed:Object(a["a"])({},Object(B["b"])(["infogame"])),methods:{clsCash:function(){this.$store.dispatch("storageCls")}}},Tt=Et,$t=(e("9e66"),Object(w["a"])(Tt,Ot,Ct,!1,null,null,null));$t.options.__file="Info.vue";var jt=$t.exports;r["a"].use(at["a"]);var Nt=new at["a"]({routes:[{path:"/",name:"home",component:ot},{path:"/way",name:"Way",component:ft},{path:"/trams",name:"Trams",component:St},{path:"/info",name:"Info",component:jt}],mode:"history",base:"/iv2tram/"}),Gt=(e("6b54"),e("7f7f"),{list:[{id:1,model:"KTM5",max:120,sections:1,idline:1,count:0,money:0,idstop:0,moved:!0,enter:!1,mode:"to",price:30,blocked:!1,reverse:!1,depot:!0,color:"red",loops:0,types:["red","yellow","blue"]}]}),At={line:{moved:!0,number:1,trams:[],currtram:0,way:[{x:60,y:10,vectors:[{x:-10,y:0}],name:"Олимпийская",start:!1,loop:!0,id:0,instop:0,outstop:0},{x:50,y:10,vectors:[{x:-10,y:0}],name:"7-я школа",start:!1,loop:!1,id:1,instop:0,outstop:0},{x:40,y:10,vectors:[{x:-10,y:0}],name:"Комсомольская",start:!1,loop:!1,id:2,instop:0,outstop:0},{x:30,y:10,vectors:[{x:-10,y:0}],name:"Университет",start:!1,loop:!1,id:3,instop:0,outstop:0},{x:20,y:10,vectors:[{x:-10,y:0}],name:"Автовокзал",start:!1,loop:!1,id:4,instop:0,outstop:0},{x:10,y:10,vectors:[{x:0,y:10}],name:"Техникум",start:!1,loop:!1,id:5,instop:0,outstop:0},{x:10,y:20,vectors:[{x:0,y:10}],name:"Депо",start:!0,loop:!1,id:6,instop:0,outstop:0},{x:10,y:30,vectors:[{x:0,y:10}],name:"Подстанция",start:!1,loop:!1,id:7,instop:0,outstop:0},{x:10,y:40,vectors:[{x:10,y:0}],name:"Автопарк",start:!1,loop:!1,id:8,instop:0,outstop:0},{x:20,y:40,vectors:[{x:0,y:10}],name:"ЖБИ",start:!1,loop:!1,id:9,instop:0,outstop:0},{x:20,y:50,vectors:[{x:0,y:10}],name:"КПД",start:!1,loop:!1,id:10,instop:0,outstop:0},{x:20,y:60,vectors:[{x:10,y:0}],name:"Заводуправление",start:!1,loop:!1,id:11,instop:0,outstop:0},{x:30,y:60,vectors:[{x:10,y:0}],name:"Полимир",start:!1,loop:!1,id:12,instop:0,outstop:0},{x:40,y:60,vectors:[{x:0,y:0}],name:"Нейтрон",start:!1,loop:!0,id:13,instop:0,outstop:0}],pass:[{instop:0,outstop:3,count:20,price:.2},{instop:0,outstop:4,count:8,price:.2},{instop:3,outstop:8,count:12,price:.2},{instop:1,outstop:3,count:8,price:.4},{instop:1,outstop:3,count:15,price:.2},{instop:2,outstop:5,count:10,price:.2},{instop:3,outstop:9,count:10,price:.8},{instop:4,outstop:6,count:4,price:.5},{instop:5,outstop:6,count:10,price:.7},{instop:0,outstop:11,count:18,price:.7},{instop:1,outstop:13,count:13,price:.7},{instop:5,outstop:12,count:10,price:.4},{instop:3,outstop:10,count:9,price:.5},{instop:2,outstop:7,count:10,price:.4},{instop:3,outstop:13,count:10,price:.3}]},sity:"Novopolotsk",country:"Belarus"};r["a"].use(B["a"]);var Rt=new B["a"].Store({state:{currstop:null,counttrams:0,money:0,clientWidth:1200,models:Gt.list,line:At.line,appVersion:"0.3.0",datewrite:"",dateclear:""},mutations:{CHANGE_DIR:function(t,o){var e=t.line.trams.findIndex(function(t){return t.id===o.id});"to"===o.dirtram&&(t.line.trams[e].mode="from"),"from"===o.dirtram&&(t.line.trams[e].mode="to")},SEL_TRAM:function(t,o){"next"===o.mode&&t.line.currtram<t.counttrams&&t.line.currtram++,"prev"===o.mode&&t.line.currtram>1&&t.line.currtram--},ADD_TRAM:function(t,o){var e=t.models[0],r=t.line.way.findIndex(function(t){return!0===t.start});(t.money>=e.price||!t.counttrams)&&(t.counttrams&&(t.money-=e.price),e.idline=o.idline,e.mode="from",e.depot=!1,e.color=e.types[t.counttrams%e.types.length],t.line.trams.push(Object(a["a"])({},e,{idstop:r>=0?t.line.way[r].id:0,id:t.counttrams+1})),t.counttrams++,t.line.currtram++,t.currstop=t.line.way[0].name)},MOVE_TRAM:function(t,o){var e=t.line.trams.findIndex(function(t){return t.id===o.id});if(console.log("move"),!(e<0)){var r=t.line.trams[e],s=t.line.way.filter(function(t){return t.id===r.idstop})[0];r.blocked||(s.loop&&r.moved&&!r.reverse?("from"===r.mode?(r.mode="to",r.loops++):"to"===r.mode&&(r.mode="from"),r.enter=!1,r.reverse=!0):(!s.loop&&r.moved||s.loop&&r.reverse)&&(r.reverse=!1,"from"===r.mode?(r.idstop>0&&r.idstop--,t.currstop=s,r.enter=!1):"to"===r.mode&&(r.idstop<t.line.way.length-1&&r.idstop++,t.currstop=s,r.enter=!1)));var i=t.line.trams.filter(function(t){return"to"===r.mode&&"to"===t.mode?r.idstop===t.idstop-1:"from"===r.mode&&"from"===t.mode?r.idstop===t.idstop+1:void 0});i.length?r.blocked=!0:!i.length&&r.blocked&&(r.blocked=!1),t.line.trams[e]=r}},ENTER_TRAM:function(t,o){var e=t.line.trams.findIndex(function(t){return t.id===o.id});if(!t.line.trams[e].enter){var r=0,s=0;t.line.pass.reduce(function(o,i){"from"===t.line.trams[e].mode&&(i.outstop===t.line.trams[e].idstop&&(r+=i.count),i.instop===t.line.trams[e].idstop&&(s+=i.count)),"to"===t.line.trams[e].mode&&(i.instop===t.line.trams[e].idstop&&(r+=i.count),i.outstop===t.line.trams[e].idstop&&(s+=i.count))}),console.log("pass test: "),console.log(r),console.log(s),t.line.trams[e].count+=r,t.line.trams[e].count>s&&(t.line.trams[e].count-=s),t.money+=.1*r,t.line.trams[e].enter=!0}},APP_RESIZE:function(t,o){t.clientWidth=o.width,t.clientHeight=o.height},STORAGE_SET:function(t){console.log("set");var o={currstop:t.currstop,counttrams:t.counttrams,money:t.money,models:t.models,line:t.line,appVersion:t.appVersion,datewrite:(new Date).toString(),dateclear:""};localStorage.iv2tramdata=JSON.stringify(o)},STORAGE_CLS:function(t){console.log("clear");var o={currstop:null,counttrams:0,money:0,models:t.models,line:t.line,appVersion:t.appVersion,datewrite:(new Date).toString(),dateclear:(new Date).toString()};o.line.trams=[],o.line.currtram=0,o.line.position=[],t.currstop=null,t.counttrams=0,t.appVersion=t.appVersion,t.datewrite=(new Date).toString(),t.dateclear=(new Date).toString(),localStorage.iv2tramdata=JSON.stringify(o)},STORAGE_GET:function(t){if(console.log("get"),localStorage.iv2tramdata){var o=JSON.parse(localStorage.iv2tramdata);o.appVersion===t.appVersion&&(t.models=o.models),t.currstop=o.currstop,t.counttrams=o.counttrams,t.money=o.money,t.line=o.line,t.datewrite=o.datewrite,t.dateclear=o.dateclear}}},actions:{moveTram:function(t,o){var e=t.commit;e("MOVE_TRAM",o)},storageSet:function(t){var o=t.commit;o("STORAGE_SET")},storageGet:function(t){var o=t.commit;o("STORAGE_GET")},storageCls:function(t){var o=t.commit;o("STORAGE_CLS"),o("ADD_TRAM",{idline:1}),o("STORAGE_SET")},enterTram:function(t,o){var e=t.commit;e("ENTER_TRAM",o)},addTram:function(t,o){var e=t.commit;e("ADD_TRAM",o)},selTram:function(t,o){var e=t.commit;e("SEL_TRAM",o)},appResize:function(t,o){var e=t.commit;e("APP_RESIZE",o)}},getters:{line:function(t){return t.line},money:function(t){return t.money},clientWidth:function(t){return t.clientWidth},stop:function(t){return t.currstop},currtram:function(t){return t.line.trams.filter(function(o){return o.id===t.line.currtram})[0]},tramsline:function(t){return t.line.trams},infogame:function(t){return{counttrams:t.counttrams,money:t.money,appVersion:t.appVersion,datewrite:t.datewrite,dateclear:t.dateclear}}}}),Dt=e("9483");Object(Dt["a"])("https://ivanshavliuga.github.io/iv2tram/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["a"].config.productionTip=!0,new r["a"]({router:Nt,store:Rt,mounted:function(){var t=this;window.screen.lockOrientation&&window.screen.lockOrientation("landscape"),window.screen.mozLockOrientation&&window.screen.mozLockOrientation("landscape"),window.screen.msLockOrientation&&window.screen.msLockOrientation("landscape"),this.$store.dispatch("appResize",{width:window.innerWidth,height:window.innerHeight}),window.addEventListener("resize",function(){t.$store.dispatch("appResize",{width:window.innerWidth,height:window.innerHeight})}),this.$store.dispatch("storageGet"),this.$router.push("/")},render:function(t){return t(it)}}).$mount("#app")},"62a0":function(t,o,e){},"7f6e":function(t,o,e){"use strict";var r=e("955c"),s=e.n(r);s.a},9424:function(t,o,e){"use strict";var r=e("434f"),s=e.n(r);s.a},"955c":function(t,o,e){},"9e66":function(t,o,e){"use strict";var r=e("dd51"),s=e.n(r);s.a},b249:function(t,o,e){},baf1:function(t,o,e){},cccb:function(t,o,e){"use strict";var r=e("e55c"),s=e.n(r);s.a},dd51:function(t,o,e){},e40e:function(t,o,e){"use strict";var r=e("b249"),s=e.n(r);s.a},e55c:function(t,o,e){}});
//# sourceMappingURL=app.f24cfb53.js.map