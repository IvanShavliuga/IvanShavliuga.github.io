(function(t){function e(e){for(var r,n,a=e[0],l=e[1],c=e[2],d=0,u=[];d<a.length;d++)n=a[d],s[n]&&u.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);p&&p(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],r=!0,a=1;a<o.length;a++){var l=o[a];0!==s[l]&&(r=!1)}r&&(i.splice(e--,1),t=n(n.s=o[0]))}return t}var r={},s={app:0},i=[];function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=r,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var p=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var r=o("27fb"),s=o.n(r);s.a},"10e6":function(t,e,o){},"227c":function(t,e,o){"use strict";var r=o("baf1"),s=o.n(r);s.a},"230d":function(t,e,o){"use strict";var r=o("62a0"),s=o.n(r);s.a},"260a":function(t,e,o){"use strict";var r=o("10e6"),s=o.n(r);s.a},"27fb":function(t,e,o){},"434f":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("097d");var r=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("nav",{staticClass:"menu"},[o("p",{staticClass:"item"},[o("router-link",{attrs:{to:"/"}},[t._v("Линия")])],1),o("p",{staticClass:"item"},[o("router-link",{attrs:{to:"/way"}},[t._v("Карта")])],1),o("p",{staticClass:"item"},[o("router-link",{attrs:{to:"/trams"}},[t._v("Депо")])],1),o("p",{staticClass:"item"},[o("router-link",{attrs:{to:"/info"}},[t._v("Инфо")])],1)]),o("router-view"),o("div",{staticClass:"control"},[o("div",{staticClass:"control__panel"},[o("div",{staticClass:"control__panel-group"},[t._v("\n        trams:\n        "),o("button",{on:{click:t.newtramcl}},[t._v("\n          new\n        ")]),o("button",{on:{click:t.prevtramcl}},[t._v("\n          prev\n        ")]),o("button",{on:{click:t.nexttramcl}},[t._v("\n          next\n        ")]),t._v("\n        "+t._s(t.filterprice)+"$\n      ")])])])],1)},i=[],n=(o("28a5"),o("c93e")),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page"},[o("div",{staticClass:"tramline"},[o("appline")],1)])},l=[],c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"lineref",staticClass:"line"},[t._l(t.getcurrstop,function(e,r){return o("div",{key:"cntnet"+r,staticClass:"contactnet",style:"left:"+r*t.posContact+"px"},[o("contactnetwork")],1)}),o("div",{ref:"tram",class:"line__tram tram__"+t.gettrampos},[o("tram",{attrs:{id:t.currtram.id,linenumber:t.currtram.idline,idstop:t.currtram.idstop,count:t.currtram.count,money:t.currmoney,max:t.currtram.max,mode:t.currtram.mode,blocked:t.currtram.blocked},on:{enter:t.getpass,move:t.move}})],1),o("div",{staticClass:"line__stops"},t._l(t.getcurrstop,function(e,r){return o("div",{key:r,staticClass:"line__stop",style:"left:"+r*t.posStop+"px",attrs:{id:"stop_"+(r+1)}},[o("stop",{attrs:{name:e.name,active:e.id===t.currtram.idstop,"count-in":t.getinpass,"count-out":t.getoutpass,"line-number":t.lnnumber}})],1)}))],2)},p=[],d=(o("ac4d"),o("8a81"),o("ac6a"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("svg",{staticClass:"tram",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 50",width:"250",height:"150"}},[o("linearGradient",{attrs:{id:"windowcolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[o("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.9",offset:"0%"}}),o("stop",{attrs:{"stop-color":"#1243a0","stop-opacity":"0.7",offset:"40%"}}),o("stop",{attrs:{"stop-color":"#1243a0","stop-opacity":"0.9",offset:"60%"}})],1),o("linearGradient",{attrs:{id:"bodybottom",x1:"0",x2:"0",y1:"0",y2:"1"}},[o("stop",{attrs:{"stop-color":"white","stop-opacity":"0.9",offset:"0%"}}),o("stop",{attrs:{"stop-color":"white","stop-opacity":"0.7",offset:"40%"}}),o("stop",{attrs:{"stop-color":"white","stop-opacity":"0.8",offset:"60%"}}),o("stop",{attrs:{"stop-color":"#dedede","stop-opacity":"0.5",offset:"80%"}})],1),o("radialGradient",{attrs:{id:"ring"}},[o("stop",{attrs:{"stop-color":"#636363","stop-opacity":"1",offset:"0%"}}),o("stop",{attrs:{"stop-color":"black","stop-opacity":"1",offset:"60%"}}),o("stop",{attrs:{"stop-color":"#232323","stop-opacity":"1",offset:"70%"}}),o("stop",{attrs:{"stop-color":"#333333","stop-opacity":"1",offset:"90%"}})],1),o("linearGradient",{attrs:{id:"doorcolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[o("stop",{attrs:{"stop-color":"#2294e0","stop-opacity":"0.5",offset:"0%"}}),o("stop",{attrs:{"stop-color":"#5de4e0","stop-opacity":"0.3",offset:"20%"}}),o("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.6",offset:"40%"}}),o("stop",{attrs:{"stop-color":"#ed5450","stop-opacity":"1",offset:"45%"}}),o("stop",{attrs:{"stop-color":"#ed1410","stop-opacity":"1",offset:"100%"}})],1),o("linearGradient",{attrs:{id:"bodycolor",x1:"0",x2:"0",y1:"0",y2:"1"}},[o("stop",{attrs:{"stop-color":"#ed2420","stop-opacity":"0.6",offset:"0%"}}),o("stop",{attrs:{"stop-color":"red","stop-opacity":"0.8",offset:"20%"}}),o("stop",{attrs:{"stop-color":"#ed2420","stop-opacity":"0.6",offset:"40%"}}),o("stop",{attrs:{"stop-color":"red","stop-opacity":"0.8",offset:"60%"}}),o("stop",{attrs:{"stop-color":"#ed2420","stop-opacity":"0.6",offset:"80%"}}),o("stop",{attrs:{"stop-color":"red","stop-opacity":"0.8",offset:"100%"}})],1),o("g",{attrs:{id:"mustache"}},[o("line",{attrs:{x1:t.directtram,x2:t.directtram+7.5,y1:"15",y2:"9.5",stroke:"#de4328","stroke-width":"0.75"}}),o("line",{attrs:{x1:t.directtram,x2:t.directtram+7.5,y1:"3.5",y2:"9.5",stroke:"#de4328","stroke-width":"0.75"}}),o("line",{attrs:{x1:t.directtram,x2:t.directtram-7.5,y1:"15",y2:"9.5",stroke:"#de4328","stroke-width":"0.75"}}),o("line",{attrs:{x1:t.directtram,x2:t.directtram-7.5,y1:"3.5",y2:"9.5",stroke:"#de4328","stroke-width":"0.75"}}),o("line",{attrs:{x1:t.directtram-2.5,x2:t.directtram+2.5,y1:"3.4",y2:"3.4",stroke:"#de4328","stroke-width":"0.75"}}),o("line",{attrs:{x1:t.directtram,x2:t.directtram,y1:"3.4",y2:"3.5",stroke:"#de4328","stroke-width":"0.75"}})]),o("g",{attrs:{id:"body"},on:{click:t.tramclick}},[o("rect",{attrs:{x:"5",y:"15",width:"68",height:"20",fill:"url(#bodybottom)",stroke:"#343434","stroke-width":"0.15"}}),o("rect",{attrs:{id:"bodycolor",x:"5.15",y:"24",width:"67.70",height:"7",fill:"url(#bodycolor)",stroke:"#ee59e6","stroke-width":"0.15"}}),o("text",{attrs:{x:20.5===t.directtram?22:48,y:"28.95",fill:"#EDede6","font-size":"6","font-family":"Courier new","font-weight":"bold"}},[t._v("\n      "+t._s(t.tramid)+"\n    ")]),o("g",{attrs:{id:"wheels"}},[o("rect",{attrs:{x:"18",y:"32.5",width:"12",height:"2.5",fill:"#444"}}),o("rect",{attrs:{x:"43.5",y:"32.5",width:"12",height:"2.5",fill:"#444"}}),o("circle",{attrs:{cx:"21.65",cy:"35",r:"2",fill:"url(#ring)"}}),o("circle",{attrs:{cx:"26.65",cy:"35",r:"2",fill:"url(#ring)"}}),o("circle",{attrs:{cx:"47.15",cy:"35",r:"2",fill:"url(#ring)"}}),o("circle",{attrs:{cx:"52.15",cy:"35",r:"2",fill:"url(#ring)"}})]),o("g",{attrs:{id:"windows"}},[o("rect",{attrs:{x:"5",y:"15.15",width:"3",height:"8.5",fill:"url(#windowcolor)",stroke:"#999999","stroke-width":"0.15"}}),o("rect",{attrs:{x:"8.15",y:"15.15",width:"9",height:"8.5",fill:"url(#windowcolor)",stroke:"#999999","stroke-width":"0.15"}}),o("rect",{attrs:{x:"33",y:"15.15",width:"9",height:"8.5",fill:"rgba(34,34,120,0.8)",stroke:"#999999","stroke-width":"0.15"}}),o("rect",{attrs:{x:"8.15",y:"15.15",width:"9",height:"8.5",fill:"url(#windowcolor)",stroke:"#999999","stroke-width":"0.15"}}),o("rect",{attrs:{x:"58",y:"15.15",width:"9",height:"8.5",fill:"url(#windowcolor)",stroke:"#999999","stroke-width":"0.15"}}),o("rect",{attrs:{x:"17.15",y:"15.15",width:"16",height:"8.70",fill:"url(#windowcolor)",stroke:"#ededed","stroke-width":"0.15"}}),o("rect",{attrs:{x:"42.15",y:"15.15",width:"16",height:"8.70",fill:"url(#windowcolor)",stroke:"#ededed","stroke-width":"0.15"}}),o("rect",{attrs:{x:"67.15",y:"15.15",width:"6",height:"8.70",fill:"url(#windowcolor)",stroke:"#ededed","stroke-width":"0.15"}}),o("line",{attrs:{x1:"17.15",y1:"19",x2:"33",y2:"19",stroke:"#ededed","stroke-width":"0.15"}}),o("line",{attrs:{x1:"24.75",y1:"15",x2:"24.75",y2:"19",stroke:"#ededed","stroke-width":"0.15"}}),o("line",{attrs:{x1:"33.15",y1:"19",x2:"58",y2:"19",stroke:"#ededed","stroke-width":"0.15"}}),o("line",{attrs:{x1:"49.75",y1:"15",x2:"49.75",y2:"19",stroke:"#ededed","stroke-width":"0.15"}})]),o("g",{attrs:{id:"armcharms"}},[o("g",{ref:"lastarm"},[o("rect",{attrs:{x:"8.15",y:"22",width:"2",height:"4",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"8.15",y:"26",width:"6",height:"1",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"10.15",y:"27",width:"2",height:"2",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"17.15",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),o("g",{ref:"lastpass"},[o("circle",{attrs:{cx:"11.15",cy:"20",r:"1.3",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"9.55",y:"21.3",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"11.05",y:"24.5",width:"3.28",height:"1.4",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"14.55",y:"24.5",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}})])]),o("g",{ref:"middlearm"},[o("rect",{attrs:{x:"33",y:"22",width:"2",height:"4",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"33",y:"26",width:"6",height:"1",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"35",y:"27",width:"2",height:"2",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"33",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),o("g",{ref:"middlepass"},[o("circle",{attrs:{cx:"36",cy:"20",r:"1.3",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"34.55",y:"21.3",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"36.05",y:"24.5",width:"3.28",height:"1.4",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"39.55",y:"24.5",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}})])]),o("g",{ref:"firstarm"},[o("rect",{attrs:{x:"58",y:"22",width:"2",height:"4",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"58",y:"26",width:"6",height:"1",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"60",y:"27",width:"2",height:"2",fill:"#252525",stroke:"#252525","stroke-width":"0.15"}}),o("rect",{attrs:{x:"58",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),o("g",{ref:"firstpass"},[o("circle",{attrs:{cx:"61.15",cy:"20",r:"1.3",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"59.55",y:"21.3",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"61.05",y:"24.5",width:"3.28",height:"1.4",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}}),o("rect",{attrs:{x:"64.55",y:"24.5",width:"1.88",height:"4.5",fill:"#303030",stroke:"#303030","stroke-width":"0.15"}})])]),o("rect",{attrs:{x:"24.75",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),o("rect",{attrs:{x:"42.15",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),o("rect",{attrs:{x:"49.75",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}}),o("rect",{attrs:{x:"67.15",y:"22",width:"2",height:"2",fill:"#252525",stroke:"#ee8956","stroke-width":"0.15"}})]),o("g",{attrs:{id:"enter"}},[o("rect",{attrs:{x:"8.15",y:"29",width:"9",height:"3",fill:"rgba(88,88,88, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),o("rect",{attrs:{x:"8.15",y:"31.5",width:"9",height:"3",fill:"rgba(68,68,68, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),o("rect",{attrs:{x:"33",y:"29",width:"9",height:"3",fill:"rgba(88,88,88, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),o("rect",{attrs:{x:"33",y:"31.5",width:"9",height:"3",fill:"rgba(68,68,68, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),o("rect",{attrs:{x:"58",y:"29",width:"9",height:"3",fill:"rgba(88,88,88, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}}),o("rect",{attrs:{x:"58",y:"31.5",width:"9",height:"3",fill:"rgba(68,68,68, 0.8)",stroke:"rgba(18,18,18, 0.7)","stroke-width":"0.1"}})]),o("g",{attrs:{id:"numtab"}},[o("rect",{ref:"lnnumber",attrs:{id:"lnnumber",x:t.directtram-2.5,y:"15",width:"8",height:"5.20",fill:"rgba(34,34,34,0.9)",stroke:"#ededed","stroke-width":"0.15"}}),o("text",{attrs:{x:t.directtram-2.5,y:"19.85",fill:"#EDeE36","font-size":"6.5"}},[t._v("\n        "+t._s(t.linenumber)+"\n      ")])]),o("g",[o("text",{attrs:{x:"10",y:"5",fill:"#EDede6","font-size":"5","font-family":"'Leckerli One', cursive","font-weight":"bold"}},[t._v("\n        "+t._s(t.blocked?"blocked":t.count)+"\n      ")])]),o("g",{attrs:{id:"door"}},[o("rect",{ref:"lastdoor",attrs:{id:"lastdoor",x:8.15+t.posDoor,y:"15.15",width:"9",height:"20",fill:"url(#doorcolor)",stroke:"#ededed","stroke-width":"0.15"}}),o("rect",{ref:"middledoor",attrs:{id:"middledoor",x:33+t.posDoor,y:"15.15",width:"9",height:"20",fill:"url(#doorcolor)",stroke:"#ededed","stroke-width":"0.15"}}),o("rect",{ref:"firstdoor",attrs:{id:"firstdoor",x:58-t.posDoor,y:"15.15",width:"9",height:"20",fill:"url(#doorcolor)",stroke:"#ededed","stroke-width":"0.15"}})])])],1)}),u=[],f=(o("c5f6"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("g",[o("circle",{attrs:{cx:t.passX,cy:t.passY,fill:t.passColor,r:"2.5"}}),o("rect",{attrs:{x:t.passX-1.5,y:t.passY+2.5,fill:t.passColor,width:"3",height:"8"}}),o("line",{attrs:{x1:t.passX-3.5,y1:t.passY+3.5,x2:t.passX+3.5,y2:t.passY+3.5,stroke:t.passColor,"stroke-width":"1.5"}}),o("line",{attrs:{x1:t.passX-2.5,y1:t.passY+3.5,x2:t.passX-2.5,y2:t.passY+7.5,stroke:t.passColor,"stroke-width":"1.5"}}),o("line",{attrs:{x1:t.passX+2.5,y1:t.passY+3.5,x2:t.passX+2.5,y2:t.passY+7.5,stroke:t.passColor,"stroke-width":"1.5"}}),o("line",{attrs:{x1:t.passX-.9,y1:t.passY+8,x2:t.passX-.9,y2:t.passY+15,stroke:t.passColor,"stroke-width":"1.5"}}),o("line",{attrs:{x1:t.passX+.9,y1:t.passY+8,x2:t.passX+.9,y2:t.passY+15,stroke:t.passColor,"stroke-width":"1.5"}})])}),h=[],m={props:{passX:{type:Number,default:0},passY:{type:Number,default:0},passColor:{type:String,default:"rgba(200, 200, 60, 0.6)"}}},y=m,w=o("2877"),v=Object(w["a"])(y,f,h,!1,null,null,null);v.options.__file="passunit.vue";var x=v.exports,g={components:{passunit:x},props:{id:{type:Number,default:0},linenumber:{type:Number,default:0},idstop:{type:Number,default:0},count:{type:Number,default:0},money:{type:Number,default:0},mode:{type:String,default:"to"},blocked:{type:Boolean,default:!1}},data:function(){return{door:!1}},computed:{directtram:function(){return"to"===this.mode?52.5:"from"===this.mode?20.5:void 0},tramid:function(){return this.id<10?"00"+this.id:this.id>=10&&this.id<=99?"0"+this.id:""+this.id},posDoor:function(){return this.door?8.15:0}},methods:{tramclick:function(){console.log("tram click"),this.door?this.$emit("move"):this.$emit("enter"),this.door=!this.door}}},k=g,b=Object(w["a"])(k,d,u,!1,null,null,null);b.options.__file="tram.vue";var _=b.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 50",width:"250",height:"150"}},[o("linearGradient",{attrs:{id:"fieldbottom",x1:"0",x2:"0",y1:"0",y2:"1"}},[o("stop",{attrs:{"stop-color":"#245","stop-opacity":"0.6",offset:"0%"}}),o("stop",{attrs:{"stop-color":"#5a6","stop-opacity":"0.7",offset:"10%"}}),o("stop",{attrs:{"stop-color":"#434349","stop-opacity":"0.5",offset:"40%"}}),o("stop",{attrs:{"stop-color":"#eee","stop-opacity":"0.5",offset:"41%"}}),o("stop",{attrs:{"stop-color":"#224","stop-opacity":"0.6",offset:"42%"}}),o("stop",{attrs:{"stop-color":"#224","stop-opacity":"0.6",offset:"69%"}}),o("stop",{attrs:{"stop-color":"#eee","stop-opacity":"0.5",offset:"70%"}}),o("stop",{attrs:{"stop-color":"#232359","stop-opacity":"0.5",offset:"71%"}}),o("stop",{attrs:{"stop-color":"#23e329","stop-opacity":"0.5",offset:"100%"}})],1),o("linearGradient",{attrs:{id:"greenfield",x1:"0",x2:"0",y1:"1",y2:"0"}},[o("stop",{attrs:{"stop-color":"#898","stop-opacity":"0.6",offset:"0%"}}),o("stop",{attrs:{"stop-color":"#2a5","stop-opacity":"0.7",offset:"50%"}}),o("stop",{attrs:{"stop-color":"green","stop-opacity":"0.9",offset:"100%"}})],1),o("linearGradient",{attrs:{id:"rails",x1:"0",x2:"0",y1:"0",y2:"1"}},[o("stop",{attrs:{"stop-color":"#cccccc","stop-opacity":"0.5",offset:"0%"}}),o("stop",{attrs:{"stop-color":"#303030","stop-opacity":"0.5",offset:"20%"}}),o("stop",{attrs:{"stop-color":"#101010","stop-opacity":"0.8",offset:"40%"}}),o("stop",{attrs:{"stop-color":"#444","stop-opacity":"0.8",offset:"60%"}}),o("stop",{attrs:{"stop-color":"#222","stop-opacity":"0.9",offset:"80%"}}),o("stop",{attrs:{"stop-color":"#222","stop-opacity":"0.9",offset:"100%"}})],1),o("linearGradient",{attrs:{id:"stopbrus",x1:"0",x2:"2",y1:"0",y2:"0",spreadMethod:"repeat"}},[o("stop",{attrs:{"stop-color":"#aaa",offset:"0%"}}),o("stop",{attrs:{"stop-color":"#eee",offset:"10%"}}),o("stop",{attrs:{"stop-color":"#aaa",offset:"20%"}}),o("stop",{attrs:{"stop-color":"#eee",offset:"30%"}}),o("stop",{attrs:{"stop-color":"#aaa",offset:"40%"}}),o("stop",{attrs:{"stop-color":"#eee",offset:"50%"}}),o("stop",{attrs:{"stop-color":"#aaa",offset:"60%"}}),o("stop",{attrs:{"stop-color":"#eee",offset:"70%"}}),o("stop",{attrs:{"stop-color":"#aaa",offset:"80%"}}),o("stop",{attrs:{"stop-color":"#eee",offset:"90%"}}),o("stop",{attrs:{"stop-color":"#aaa",offset:"100%"}})],1),o("linearGradient",{attrs:{id:"brus",x1:"0",x2:"2",y1:"0",y2:"0"}},[o("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"0%"}}),o("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"10%"}}),o("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"20%"}}),o("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"30%"}}),o("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"40%"}}),o("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"50%"}}),o("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"60%"}}),o("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"70%"}}),o("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"80%"}}),o("stop",{attrs:{"stop-color":"#111","stop-opacity":"0.9",offset:"90%"}}),o("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.9",offset:"100%"}})],1),o("rect",{attrs:{x:"45",y:"5",width:"100",height:"15",fill:"url(#fieldbottom)"}}),o("rect",{attrs:{x:"0",y:"5",width:"5",height:"15",fill:"url(#fieldbottom)"}}),o("rect",{attrs:{x:"0",y:"20",width:"100",height:"22",fill:"url(#greenfield)"}}),t._l(15,function(e){return o("rect",{key:e+t.name,attrs:{x:16*e-150,y:"2",width:"17",height:"2",fill:"url(#rails)",stroke:"url(#rails)","stroke-width":"0.15"}})}),t._l(15,function(t){return o("rect",{key:t,attrs:{x:16*t-150,y:"4",width:"17",height:"1",fill:"url(#brus)",stroke:"url(#brus)","stroke-width":"0.15"}})}),o("text",{attrs:{x:"0",y:"30",fill:"#EDede6","font-size":"7","font-weight":"bold","font-family":"Courier new"}},[t._v("\n    "+t._s(t.name)+"\n  ")]),o("rect",{attrs:{opacity:t.active?.5:.2,fill:"url(#stopbrus)",x:"5",y:"5",width:"40",height:"15",stroke:"#343434","stroke-width":"0.15"}}),t.active?o("g",t._l(t.passCount,function(e){return o("passunit",{key:t.name+e,attrs:{"pass-x":7+8*e-8,"pass-y":2,"pass-color":"rgba(250, 250, 250, 0.6)"}})})):t._e(),o("rect",{attrs:{x:"10",y:"17",width:"10",height:"2",fill:"#c5c595"}}),o("rect",{attrs:{x:"10",y:"19",width:"2",height:"3",fill:"#959595"}}),o("rect",{attrs:{x:"18",y:"19",width:"2",height:"3",fill:"#959595"}}),o("rect",{attrs:{x:"43",y:"8",width:"0.5",height:"10",fill:"black"}}),o("rect",{attrs:{x:"38",y:"0",width:"10",height:"8",fill:"blue"}}),o("text",{attrs:{x:"38.7",y:"4",fill:"#EDede6","font-size":"4","font-family":"Courier new","font-weight":"bold"}},[t._v("\n    "+t._s(t.lineNumber)+"\n  ")])],2)},O=[],E={components:{passunit:x},props:{name:{type:String,default:"stop: NaN"},active:{type:Boolean,default:!1},countIn:{type:Number,default:0},countOut:{type:Number,default:0},lineNumber:{type:Number,default:1},widthStop:{type:Number,default:250}},computed:{passCount:function(){return 1+~~((this.countIn+this.countOut)/25)}}},C=E,T=Object(w["a"])(C,S,O,!1,null,null,null);T.options.__file="stop.vue";var j=T.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("svg",{staticClass:"tram",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 50",width:"250",height:"150"}},[o("linearGradient",{attrs:{id:"field",x1:"0",x2:"0",y1:"0",y2:"1"}},[o("stop",{attrs:{"stop-color":"green","stop-opacity":"0.9",offset:"0%"}}),o("stop",{attrs:{"stop-color":"#30a030","stop-opacity":"0.5",offset:"20%"}}),o("stop",{attrs:{"stop-color":"#10e010","stop-opacity":"0.8",offset:"40%"}}),o("stop",{attrs:{"stop-color":"#272","stop-opacity":"0.8",offset:"60%"}}),o("stop",{attrs:{"stop-color":"#888","stop-opacity":"0.6",offset:"80%"}}),o("stop",{attrs:{"stop-color":"#aaa","stop-opacity":"0.7",offset:"100%"}})],1),o("linearGradient",{attrs:{id:"air",x1:"0",x2:"0",y1:"0",y2:"1"}},[o("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.9",offset:"0%"}}),o("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.7",offset:"20%"}}),o("stop",{attrs:{"stop-color":"blue","stop-opacity":"0.6",offset:"40%"}}),o("stop",{attrs:{"stop-color":"#0559a9","stop-opacity":"0.7",offset:"80%"}}),o("stop",{attrs:{"stop-color":"#4599e9","stop-opacity":"0.9",offset:"100%"}})],1),o("rect",{attrs:{x:"0",y:"0",width:"100",height:"35",fill:"url(#air)",stroke:"blue","stroke-width":"0.01"}}),o("rect",{attrs:{x:"0",y:"35",width:"100",height:"10",fill:"url(#field)",stroke:"green","stroke-width":"0.01"}}),o("rect",{attrs:{x:"82",y:"0",height:"50",width:"2",fill:"#aaa"}}),o("rect",{attrs:{x:"35",y:"0",height:"50",width:"2",fill:"#aaa"}}),o("line",{attrs:{x1:"35",y1:"24",x2:"36",y2:"19",stroke:"#414141","stroke-width":"0.95"}}),o("rect",{staticStyle:{transform:"rotateZ(9deg)"},attrs:{x:"38",y:"10",width:"3",height:"5",fill:"#deae96",stroke:"#efefef","stroke-width":"0.36"}}),o("line",{attrs:{x1:"0",y1:"8",x2:"100",y2:"8",stroke:"black","stroke-width":"0.45"}}),o("line",{attrs:{x1:"0",y1:"10.9",x2:"100",y2:"10.9",stroke:"black","stroke-width":"0.45"}}),o("line",{attrs:{x1:"27",y1:"6",x2:"27",y2:"10.9",stroke:"black","stroke-width":"0.85"}}),o("line",{attrs:{x1:"75",y1:"6",x2:"75",y2:"10.9",stroke:"black","stroke-width":"0.85"}}),o("line",{attrs:{x1:"35",y1:"2",x2:"21",y2:"10",stroke:"#414141","stroke-width":"0.95"}}),o("line",{attrs:{x1:"82",y1:"2",x2:"69",y2:"10",stroke:"#414141","stroke-width":"0.95"}})],1)},A=[],G={},N=Object(w["a"])(G,$,A,!1,null,null,null);N.options.__file="contactnetwork.vue";var R=N.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300",fill:"#999999"}},[o("text",{attrs:{x:"0",y:"15",fill:"#dede70"}},[t._v("\n    "+t._s(t.filterprice)+" $\n  ")]),t._l(t.line.way,function(e,r){return o("g",{key:r},[t._l(e.vectors,function(t,r){return o("line",{key:r,attrs:{x1:1.5*(e.x+t.x)+20,y1:1.5*(e.y+t.y)+20,x2:1.5*e.x+20,y2:1.5*e.y+20,r:"2.5",stroke:"#222222",fill:"#222222","stroke-width":"0.5"}})}),o("circle",{attrs:{cx:1.5*e.x+20,cy:1.5*e.y+20,stroke:t.findactive(e.id)?"#df42df":"#222222",fill:t.findactive(e.id)?"#df42df":"#222222",r:"2.5","stroke-width":"0.5"}}),t.findactive(e.id)?o("text",{attrs:{x:1.5*e.x+20,y:1.5*e.y+16,stroke:"#df42df",fill:"#df42df","font-size":"20"}},[t._v("\n      "+t._s(t.tramnum(e.id))+"\n    ")]):t._e()],2)})],2)},M=[],W=o("2f62"),V={computed:Object(n["a"])({},Object(W["b"])(["line","currtram","money","clientWidth"]),{filterprice:function(){if(!this.money)return"0.0";var t=(""+this.money).split("."),e=void 0!==t[1]?t[1].slice(0,2):this.money;return t[0]+"."+e}}),methods:{findactive:function(t){var e=!1,o=!0,r=!1,s=void 0;try{for(var i,n=this.line.trams[Symbol.iterator]();!(o=(i=n.next()).done);o=!0){var a=i.value;a.idstop===t&&(e=!0)}}catch(t){r=!0,s=t}finally{try{o||null==n.return||n.return()}finally{if(r)throw s}}return e},tramnum:function(t){var e=!0,o=!1,r=void 0;try{for(var s,i=this.line.trams[Symbol.iterator]();!(e=(s=i.next()).done);e=!0){var n=s.value;if(n.idstop===t)return n.id}}catch(t){o=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(o)throw r}}}}},X=V,Y=(o("260a"),Object(w["a"])(X,D,M,!1,null,"d7cdf0d2",null));Y.options.__file="way.vue";var z=Y.exports,I={components:{tram:_,stop:j,way:z,contactnetwork:R},data:function(){return{passCount:0,id:1,idout:0,idin:0,currmoney:0,moved:!0,lnnumber:1,tramid:1,widthStop:250}},computed:Object(n["a"])({},Object(W["b"])(["line","clientWidth","stop","tramsline","currtram"]),{trams:function(){return this.tramsline},gettrampos:function(){var t=this.line.way.length-1,e=this.currtram.idstop;return this.clientWidth<=432?0:this.clientWidth<=645?e?e<t?0:1:0:e?e<t?1:2:0},getcurrstop:function(){var t=this.line.way.length-1,e=this.currtram.idstop,o=this.line.way[e?e<=t-1?e-1:t-2:0],r=this.line.way[e?e<=t-1?e:t-1:1],s=this.line.way[e?e<t-1?e+1:t:2];return this.clientWidth<=432?[this.line.way[e]]:this.clientWidth<=645?e?[r,s]:[o,r]:[o,r,s]},getinpass:function(){var t=this,e=0,o=this.line.pass.filter(function(e){return e.instop===t.currtram.idstop}),r=!0,s=!1,i=void 0;try{for(var n,a=o[Symbol.iterator]();!(r=(n=a.next()).done);r=!0){var l=n.value;e+=l.count}}catch(t){s=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return e},getoutpass:function(){var t=this,e=0,o=this.line.pass.filter(function(e){return e.outstop===t.currtram.idstop}),r=!0,s=!1,i=void 0;try{for(var n,a=o[Symbol.iterator]();!(r=(n=a.next()).done);r=!0){var l=n.value;e+=l.count}}catch(t){s=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return e},getmoney:function(){var t=this,e=0,o=this.line.pass.filter(function(e){return e.instop===t.line.position}),r=!0,s=!1,i=void 0;try{for(var n,a=o[Symbol.iterator]();!(r=(n=a.next()).done);r=!0){var l=n.value;e+=l.count*l.price}}catch(t){s=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return e},getpassstop:function(){var t=this;return this.line.pass.filter(function(e){return e.instop===t.currtram.idstop})},posContact:function(){return 250},posStop:function(){return this.clientWidth,250},posStart:function(){return this.clientWidth<=800?220:250},cwidth:function(){return this.clientWidth<=750?this.clientWidth-50:250}}),methods:{getpass:function(){this.$store.dispatch("enterTram",{lineid:this.lnnumber,id:this.currtram.id})},move:function(){this.$store.dispatch("moveTram",{lineid:this.lnnumber,id:this.currtram.id}),this.$store.dispatch("storageSet")},nexttram:function(){this.tramid=2},genstopspass:function(){this.pass=[];var t=this.line.way.length,e=!0,o=!1,r=void 0;try{for(var s,i=this.line.way[Symbol.iterator]();!(e=(s=i.next()).done);e=!0){var n=s.value,a=~~(Math.random()*n.id)+(t-n.id),l=n.id,c=~~(30*Math.random()),p={instop:l,outstop:a,count:c,price:.3};n.end&&(p.instop=0),n.start&&(p.outstop=0),this.pass.push(p)}}catch(t){o=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(o)throw r}}}}},L=I,P=(o("68ca"),Object(w["a"])(L,c,p,!1,null,"59024352",null));P.options.__file="line.vue";var B=P.exports,H={components:{appline:B}},J=H,Z=(o("cccb"),Object(w["a"])(J,a,l,!1,null,null,null));Z.options.__file="Home.vue";var F=Z.exports,q={components:{appHome:F},computed:Object(n["a"])({},Object(W["b"])(["money"]),{filterprice:function(){if(!this.money)return"0.0";var t=(""+this.money).split("."),e=void 0!==t[1]?t[1].slice(0,2):this.money;return t[0]+"."+e}}),created:function(){this.$store.dispatch("addTram",{idline:1})},methods:{newtramcl:function(){console.log("new"),this.$store.dispatch("addTram",{idline:1}),this.$store.dispatch("storageSet")},prevtramcl:function(){this.$store.dispatch("selTram",{mode:"prev"})},nexttramcl:function(){this.$store.dispatch("selTram",{mode:"next"})}}},K=q,Q=(o("034f"),Object(w["a"])(K,s,i,!1,null,null,null));Q.options.__file="App.vue";var U=Q.exports,tt=o("8c4f"),et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"map"},[o("appway")],1)},ot=[],rt={components:{appway:z}},st=rt,it=(o("9424"),Object(w["a"])(st,et,ot,!1,null,null,null));it.options.__file="Way.vue";var nt=it.exports,at=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list"},[o("applistlinetram")],1)},lt=[],ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"listlinetram"},t._l(t.line.trams,function(e){return o("li",{key:e.id,staticClass:"listlinetram__item",style:e.id===t.line.currtram?"color: white":"color: #aaa"},[o("span",[t._v(" "+t._s(e.id)+" ")]),o("span",[t._v(" "+t._s(e.model)+" ")]),o("span",[t._v(" "+t._s(e.count)+" / ")]),o("span",[t._v(" "+t._s(e.max)+" ")])])}))},pt=[],dt=(o("20d6"),{computed:Object(n["a"])({},Object(W["b"])(["line"])),methods:{findactive:function(t){return this.line.position.findIndex(function(e){return e.idstop===t})},newtramcl:function(){console.log("new tram"),this.$store.dispatch("addTram",{idline:this.line.number})}}}),ut=dt,ft=(o("230d"),Object(w["a"])(ut,ct,pt,!1,null,null,null));ft.options.__file="listlinetram.vue";var ht=ft.exports,mt={components:{applistlinetram:ht}},yt=mt,wt=(o("227c"),Object(w["a"])(yt,at,lt,!1,null,null,null));wt.options.__file="Trams.vue";var vt=wt.exports,xt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"info"},[o("h3",[t._v("Разработчик")]),t._m(0),o("p",[t._v("Версия сборки: "+t._s(t.infogame.appVersion))]),o("p",[t._v("Количество трамваев: "+t._s(t.infogame.counttrams))]),o("p",[t._v("Сумма денег: "+t._s(t.infogame.money))]),o("p",[t._v("Дата записи результатов: "+t._s(t.infogame.datewrite))]),o("p",[t._v("Дата очистики результатов: "+t._s(t.infogame.dateclear))]),o("button",{on:{click:t.clsCash}},[t._v("Очистить кеш")])])},gt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h4",[o("a",{attrs:{href:"https://ivanshavliuga.github.io/"}},[t._v("Иван Шавлюга")])])}],kt={computed:Object(n["a"])({},Object(W["b"])(["infogame"])),methods:{clsCash:function(){this.$store.dispatch("storageCls")}}},bt=kt,_t=(o("9e66"),Object(w["a"])(bt,xt,gt,!1,null,null,null));_t.options.__file="Info.vue";var St=_t.exports;r["a"].use(tt["a"]);var Ot=new tt["a"]({routes:[{path:"/",name:"home",component:F},{path:"/way",name:"Way",component:nt},{path:"/trams",name:"Trams",component:vt},{path:"/info",name:"Info",component:St}],mode:"history",base:"/iv2tram/"}),Et=(o("6b54"),o("7f7f"),{list:[{id:1,model:"KTM5",max:120,sections:1,idline:1,count:0,money:0,idstop:0,moved:!0,enter:!1,mode:"to",price:30,blocked:!1}]}),Ct={line:{moved:!0,number:1,trams:[],position:[],currtram:0,way:[{x:60,y:10,vectors:[{x:-10,y:0}],name:"Олимпийская",start:!0,end:!1,id:0,instop:0,outstop:0},{x:50,y:10,vectors:[{x:-10,y:0}],name:"7-я школа",start:!1,end:!1,id:1,instop:0,outstop:0},{x:40,y:10,vectors:[{x:-10,y:0}],name:"Комсомольская",start:!1,end:!1,id:2,instop:0,outstop:0},{x:30,y:10,vectors:[{x:-10,y:0}],name:"Университет",start:!1,end:!1,id:3,instop:0,outstop:0},{x:20,y:10,vectors:[{x:-10,y:0}],name:"Автовокзал",start:!1,end:!1,id:4,instop:0,outstop:0},{x:10,y:10,vectors:[{x:0,y:10}],name:"Техникум",start:!1,end:!1,id:5,instop:0,outstop:0},{x:10,y:20,vectors:[{x:0,y:10}],name:"Депо",start:!1,end:!1,id:6,instop:0,outstop:0},{x:10,y:30,vectors:[{x:0,y:10}],name:"Подстанция",start:!1,end:!1,id:7,instop:0,outstop:0},{x:10,y:40,vectors:[{x:10,y:0}],name:"Автопарк",start:!1,end:!1,id:8,instop:0,outstop:0},{x:20,y:40,vectors:[{x:0,y:10}],name:"ЖБИ",start:!1,end:!1,id:9,instop:0,outstop:0},{x:20,y:50,vectors:[{x:0,y:10}],name:"КПД",start:!1,end:!1,id:10,instop:0,outstop:0},{x:20,y:60,vectors:[{x:10,y:0}],name:"Заводуправление",start:!1,end:!1,id:11,instop:0,outstop:0},{x:30,y:60,vectors:[{x:10,y:0}],name:"Полимир",start:!1,end:!1,id:12,instop:0,outstop:0},{x:40,y:60,vectors:[{x:0,y:0}],name:"Нейтрон",start:!1,end:!0,id:13,instop:0,outstop:0}],pass:[{instop:0,outstop:3,count:20,price:.2},{instop:0,outstop:4,count:8,price:.2},{instop:3,outstop:8,count:12,price:.2},{instop:1,outstop:3,count:8,price:.4},{instop:1,outstop:3,count:15,price:.2},{instop:2,outstop:5,count:10,price:.2},{instop:3,outstop:9,count:10,price:.8},{instop:4,outstop:6,count:4,price:.5},{instop:5,outstop:6,count:10,price:.7},{instop:0,outstop:11,count:18,price:.7},{instop:1,outstop:13,count:13,price:.7},{instop:5,outstop:12,count:10,price:.4},{instop:3,outstop:10,count:9,price:.5},{instop:2,outstop:7,count:10,price:.4},{instop:3,outstop:13,count:10,price:.3}]},sity:"Novopolotsk",country:"Belarus"};r["a"].use(W["a"]),console.log(Et);var Tt=new W["a"].Store({state:{currstop:null,counttrams:0,money:0,clientWidth:1200,models:Et.list,line:Ct.line,appVersion:"0.2.1",datewrite:"",dateclear:""},mutations:{CHANGE_DIR:function(t,e){var o=t.line.trams.findIndex(function(t){return t.id===e.id});"to"===e.dirtram&&(t.line.trams[o].mode="from"),"from"===e.dirtram&&(t.line.trams[o].mode="to")},SEL_TRAM:function(t,e){"next"===e.mode&&t.line.currtram<t.counttrams&&t.line.currtram++,"prev"===e.mode&&t.line.currtram>1&&t.line.currtram--},ADD_TRAM:function(t,e){var o=t.models[0],r=t.line.position.filter(function(t){return 0===t.idstop});r.length>0||(t.money>=o.price||!t.counttrams)&&(t.counttrams&&(t.money-=o.price),o.idline=e.idline,t.line.trams.push(Object(n["a"])({},o,{idstop:0,id:t.counttrams+1})),t.line.position.push({idtram:t.counttrams+1,idstop:0,count:0,mode:"to"}),t.counttrams++,t.line.currtram++,t.currstop=t.line.way[0].name)},MOVE_TRAM:function(t,e){var o=t.line.trams.findIndex(function(t){return t.id===e.id});if(t.line.trams[o].blocked){var r=t.line.position.filter(function(e){return e.idstop===t.line.trams[o].idstop&&e.mode===t.line.trams[o].mode}),s=t.line.trams.filter(function(e){return!0===e.blocked&&e.idstop===t.line.trams[o].idstop});if(console.log("blocked: "+s.length),console.log("poscurrtram: "+r.length),console.log(s),r.length>1&&r.length!==s.length)return;for(var i=e.id,n=0;n<s.length;n++)i>s[n].id&&(i=s[n].id);if(i!==e.id)return;console.log("yes"),t.line.trams[o].blocked=!1}if("to"===t.line.trams[o].mode&&t.line.trams[o].moved&&t.line.trams[o].idstop<t.line.way.length-1)t.line.trams[o].idstop++,t.currstop=t.line.way[t.line.trams[o].idstop].name,t.line.trams[o].enter=!1;else if("to"===t.line.trams[o].mode&&t.line.trams[o].idstop>=t.line.way.length-1){t.line.trams[o].mode="from",t.line.trams[o].enter=!1;var a=t.line.trams.filter(function(e){return e.idstop===t.line.trams[o].idstop&&"from"===t.line.trams[o].mode});a.length>0&&(t.line.trams[o].blocked=!0)}else if("from"===t.line.trams[o].mode&&t.line.trams[o].moved&&t.line.trams[o].idstop>0)t.line.trams[o].idstop--,t.currstop=t.line.way[t.line.trams[o].idstop].name,t.line.trams[o].enter=!1;else if("from"===t.line.trams[o].mode&&t.line.trams[o].idstop<=0){t.line.trams[o].mode="to",t.line.trams[o].enter=!1;var l=t.line.trams.filter(function(e){return e.idstop===t.line.trams[o].idstop&&"to"===t.line.trams[o].mode});l.length>0&&(t.line.trams[o].blocked=!0)}var c=t.line.position.findIndex(function(e){return e.idtram===t.line.trams[o].id});t.line.position[c]={idtram:t.line.trams[o].id,idstop:t.line.trams[o].idstop,count:t.line.trams[o].count,mode:t.line.trams[o].mode};var p=t.line.position.filter(function(e){return e.idstop===t.line.trams[o].idstop&&e.mode===t.line.trams[o].mode});if(console.log(p),p.length>1){var d=t.line.trams[o].id,u=!0,f=!1,h=void 0;try{for(var m,y=p[Symbol.iterator]();!(u=(m=y.next()).done);u=!0){var w=m.value;w.idtram<=d&&(d=w.idtram)}}catch(t){f=!0,h=t}finally{try{u||null==y.return||y.return()}finally{if(f)throw h}}for(var v=0;v<t.line.trams.length;v++)t.line.trams[v].id!==d&&(t.line.trams[v].blocked=!0)}console.log(t.line.position)},ENTER_TRAM:function(t,e){var o=t.line.trams.findIndex(function(t){return t.id===e.id});if(!t.line.trams[o].enter){var r=0,s=t.line.pass.filter(function(e){return e.instop===t.line.trams[o].idstop}),i=!0,n=!1,a=void 0;try{for(var l,c=s[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;r+=p.count}}catch(t){n=!0,a=t}finally{try{i||null==c.return||c.return()}finally{if(n)throw a}}var d=0,u=t.line.pass.filter(function(e){return e.outstop===t.line.trams[o].idstop}),f=!0,h=!1,m=void 0;try{for(var y,w=u[Symbol.iterator]();!(f=(y=w.next()).done);f=!0){var v=y.value;d+=v.count}}catch(t){h=!0,m=t}finally{try{f||null==w.return||w.return()}finally{if(h)throw m}}"to"===t.line.trams[o].mode&&(t.line.trams[o].count-=d,t.line.trams[o].count+=r,t.line.trams[o].count>=t.line.trams[o].max&&(t.trams[o].count=t.trams[o].max),t.money+=.1*r),"from"===t.line.trams[o].mode&&(t.line.trams[o].count+=d,t.line.trams[o].count-=r,t.line.trams[o].count>=t.line.trams[o].max&&(t.trams[o].count=t.trams[o].max),t.money+=.1*d),t.line.trams[o].enter=!0}},APP_RESIZE:function(t,e){t.clientWidth=e.width,t.clientHeight=e.height},STORAGE_SET:function(t){console.log("set");var e={currstop:t.currstop,counttrams:t.counttrams,money:t.money,models:t.models,line:t.line,appVersion:t.appVersion,datewrite:(new Date).toString(),dateclear:""};localStorage.iv2tramdata=JSON.stringify(e)},STORAGE_CLS:function(t){console.log("clear");var e={currstop:null,counttrams:0,money:t.money,models:t.models,line:t.line,appVersion:t.appVersion,datewrite:(new Date).toString(),dateclear:(new Date).toString()};e.line.trams=[],e.line.currtram=0,e.line.position=[],t.currstop=null,t.counttrams=0,t.appVersion=t.appVersion,t.datewrite=(new Date).toString(),t.dateclear=(new Date).toString(),localStorage.iv2tramdata=JSON.stringify(e)},STORAGE_GET:function(t){if(console.log("get"),localStorage.iv2tramdata){var e=JSON.parse(localStorage.iv2tramdata);e.appVersion===t.appVersion&&(t.models=e.models),t.currstop=e.currstop,t.counttrams=e.counttrams,t.money=e.money,t.line=e.line,t.datewrite=e.datewrite,t.dateclear=e.dateclear}}},actions:{moveTram:function(t,e){var o=t.commit;o("MOVE_TRAM",e)},storageSet:function(t){var e=t.commit;e("STORAGE_SET")},storageGet:function(t){var e=t.commit;e("STORAGE_GET")},storageCls:function(t){var e=t.commit;e("STORAGE_CLS"),e("ADD_TRAM",{idline:1}),e("STORAGE_SET")},enterTram:function(t,e){var o=t.commit;o("ENTER_TRAM",e)},addTram:function(t,e){var o=t.commit;o("ADD_TRAM",e)},selTram:function(t,e){var o=t.commit;o("SEL_TRAM",e)},appResize:function(t,e){var o=t.commit;o("APP_RESIZE",e)}},getters:{line:function(t){return t.line},money:function(t){return t.money},clientWidth:function(t){return t.clientWidth},stop:function(t){return t.currstop},currtram:function(t){return t.line.trams.filter(function(e){return e.id===t.line.currtram})[0]},tramsline:function(t){return t.line.trams},infogame:function(t){return{counttrams:t.counttrams,money:t.money,appVersion:t.appVersion,datewrite:t.datewrite,dateclear:t.dateclear}}}}),jt=o("9483");Object(jt["a"])("https://ivanshavliuga.github.io/iv2tram/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["a"].config.productionTip=!0,new r["a"]({router:Ot,store:Tt,mounted:function(){var t=this;window.screen.lockOrientation&&window.screen.lockOrientation("landscape"),window.screen.mozLockOrientation&&window.screen.mozLockOrientation("landscape"),window.screen.msLockOrientation&&window.screen.msLockOrientation("landscape"),this.$store.dispatch("appResize",{width:window.innerWidth,height:window.innerHeight}),window.addEventListener("resize",function(){t.$store.dispatch("appResize",{width:window.innerWidth,height:window.innerHeight})}),this.$store.dispatch("storageGet"),this.$router.push("/")},render:function(t){return t(U)}}).$mount("#app")},"62a0":function(t,e,o){},"68ca":function(t,e,o){"use strict";var r=o("9ce3"),s=o.n(r);s.a},9424:function(t,e,o){"use strict";var r=o("434f"),s=o.n(r);s.a},"9ce3":function(t,e,o){},"9e66":function(t,e,o){"use strict";var r=o("dd51"),s=o.n(r);s.a},baf1:function(t,e,o){},cccb:function(t,e,o){"use strict";var r=o("e55c"),s=o.n(r);s.a},dd51:function(t,e,o){},e55c:function(t,e,o){}});
//# sourceMappingURL=app.c6330a34.js.map