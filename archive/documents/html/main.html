<HTML>
<head>
<title>
main.html</title>
<meta NAME="author" content="IvEditor">
</head><body bgcolor="navy" text="white">
<p align="justify">
//---------------------------------------------------------------------------

<br>
#<font color="yellow">include</font> "<font color="yellow">iveditor</font>.<font color="yellow">h</font>"

<br>
<font color="yellow">void</font> <font color="yellow">SaveAsHtml</font>(<font color="yellow">void</font>)

<br>
{

<br>
   <font color="yellow">FILE</font> *<font color="yellow">file</font>;

<br>
   <font color="yellow">int</font> <font color="yellow">x</font>,<font color="yellow">y</font>,<font color="yellow">p</font>;

<br>
   <font color="yellow">char</font> <font color="yellow">lat</font>=<font color="fuchsia">0</font>,<font color="yellow">count</font>=<font color="fuchsia">0</font>;

<br>
   <font color="yellow">file</font>=<font color="yellow">fopen</font>(<font color="yellow">filename</font>,"<font color="yellow">w</font>");

<br>
   <font color="yellow">fprintf</font>(<font color="yellow">file</font>,"<<font color="yellow">HTML</font>>\<font color="yellow">n</font>"

<br>
                "<<font color="yellow">head</font>>\<font color="yellow">n</font>"

<br>
                "<<font color="yellow">title</font>>\<font color="yellow">n</font>");

<br>
   <font color="yellow">fputs</font>(<font color="yellow">filename</font>,<font color="yellow">file</font>);

<br>
   <font color="yellow">fprintf</font>(<font color="yellow">file</font>,"</<font color="yellow">title</font>>\<font color="yellow">n</font>"

<br>
                "<<font color="yellow">meta</font> <font color="yellow">NAME</font>=\"<font color="yellow">author</font>\" <font color="yellow">content</font>=\"<font color="yellow">IvEditor</font>\">\<font color="yellow">n</font>"

<br>
                "</<font color="yellow">head</font>>"

<br>
                "<<font color="yellow">body</font> <font color="yellow">bgcolor</font>=\"<font color="yellow">navy</font>\" <font color="yellow">text</font>=\"<font color="yellow">white</font>\">\<font color="yellow">n</font>"

<br>
                "<<font color="yellow">p</font> <font color="yellow">align</font>=\"<font color="yellow">justify</font>\">\<font color="yellow">n</font>");

<br>
   <font color="yellow">for</font>(<font color="yellow">p</font>=<font color="fuchsia">0</font>; <font color="yellow">p</font><<font color="yellow">CountPages</font>; <font color="yellow">p</font>++)

<br>
   {

<br>
     <font color="yellow">for</font>(<font color="yellow">y</font>=<font color="fuchsia">0</font>; <font color="yellow">y</font><<font color="fuchsia">22</font>; <font color="yellow">y</font>++)

<br>
     {

<br>
       <font color="yellow">for</font>(<font color="yellow">x</font>=<font color="fuchsia">0</font>; <font color="yellow">x</font><<font color="fuchsia">80</font>; <font color="yellow">x</font>++)

<br>
       {

<br>
         <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]==<font color="fuchsia">0</font>) <font color="yellow">break</font>;

<br>
         <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]>='<font color="fuchsia">0</font>'&&<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]<='<font color="fuchsia">9</font>'&&<font color="yellow">count</font>==<font color="fuchsia">0</font>)

<br>
         {

<br>
           <font color="yellow">if</font>(<font color="yellow">lat</font>) {<font color="yellow">fprintf</font>(<font color="yellow">file</font>,"</<font color="yellow">font</font>>");<font color="yellow">lat</font>=<font color="fuchsia">0</font>;}

<br>
           <font color="yellow">fprintf</font>(<font color="yellow">file</font>,"<<font color="yellow">font</font> <font color="yellow">color</font>=\"<font color="yellow">fuchsia</font>\">");

<br>
           <font color="yellow">count</font>=<font color="fuchsia">1</font>;

<br>
         }

<br>
         <font color="yellow">if</font>(((<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]>='<font color="yellow">A</font>'&&<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]<='<font color="yellow">Z</font>')||

<br>
                 (<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]>='<font color="yellow">a</font>'&&<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]<='<font color="yellow">z</font>'))&&<font color="yellow">lat</font>==<font color="fuchsia">0</font>)

<br>
         {

<br>
           <font color="yellow">if</font>(<font color="yellow">count</font>) {<font color="yellow">fprintf</font>(<font color="yellow">file</font>,"</<font color="yellow">font</font>>");<font color="yellow">count</font>=<font color="fuchsia">0</font>;}

<br>
           <font color="yellow">fprintf</font>(<font color="yellow">file</font>,"<<font color="yellow">font</font> <font color="yellow">color</font>=\"<font color="yellow">yellow</font>\">");

<br>
           <font color="yellow">lat</font>=<font color="fuchsia">1</font>;

<br>
         }

<br>
         <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]<'<font color="fuchsia">0</font>'||<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]>'<font color="yellow">Z</font>'&&<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]<'<font color="yellow">a</font>'||

<br>
            <font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]>'<font color="yellow">z</font>'||<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]>'<font color="fuchsia">9</font>'&&<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]<'<font color="yellow">A</font>')

<br>
         {

<br>
           <font color="yellow">if</font>(<font color="yellow">count</font>==<font color="fuchsia">1</font>||<font color="yellow">lat</font>==<font color="fuchsia">1</font>)

<br>
           {

<br>
             <font color="yellow">count</font>=<font color="fuchsia">0</font>;

<br>
             <font color="yellow">lat</font>=<font color="fuchsia">0</font>;

<br>
             <font color="yellow">fprintf</font>(<font color="yellow">file</font>,"</<font color="yellow">font</font>>");

<br>
           }

<br>
         }

<br>
         <font color="yellow">fprintf</font>(<font color="yellow">file</font>,"%<font color="yellow">c</font>",<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">x</font>]);

<br>
       }

<br>
       <font color="yellow">fprintf</font>(<font color="yellow">file</font>,"\<font color="yellow">n</font><<font color="yellow">br</font>>\<font color="yellow">n</font>");

<br>
     }

<br>
   }

<br>
   <font color="yellow">fprintf</font>(<font color="yellow">file</font>,"</<font color="yellow">P</font>>\<font color="yellow">n</font>"

<br>
                "</<font color="yellow">body</font>>\<font color="yellow">n</font>"

<br>
                "</<font color="yellow">html</font>>\<font color="yellow">n</font>");

<br>
   <font color="yellow">fclose</font>(<font color="yellow">file</font>);

<br>
}

<br>
//Псевдографика

<br>
<font color="yellow">char</font> <font color="yellow">Graph</font>(<font color="yellow">char</font> <font color="yellow">key</font>)

<br>
{

<br>
  <font color="yellow">switch</font>(<font color="yellow">key</font>)

<br>
  {

<br>
    //Нижний регистр

<br>
    //Вверхний ряд

<br>
    <font color="yellow">case</font> '<font color="yellow">q</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xda</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">w</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">2</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">e</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xbf</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">r</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">6</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">t</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">2</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">y</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xb</font><font color="fuchsia">7</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">u</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">4</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">i</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xdc</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">o</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xcd</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">p</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">03</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '[': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">11</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> ']': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">10</font>; <font color="yellow">break</font>;

<br>
    //средний ряд

<br>
    <font color="yellow">case</font> '<font color="yellow">a</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">3</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">s</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">5</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">d</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xb</font><font color="fuchsia">4</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">f</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">7</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">g</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">7</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">h</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xb</font><font color="fuchsia">6</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">j</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xde</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">k</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xdb</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">l</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xdd</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> ';': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">04</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '\'': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">05</font>; <font color="yellow">break</font>;

<br>
    //нижний ряд

<br>
    <font color="yellow">case</font> '<font color="yellow">z</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">0</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">x</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">1</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">c</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">9</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">v</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">3</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">b</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">0</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">n</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xbd</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">m</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xb</font><font color="fuchsia">3</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> ',': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xdf</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '.': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xba</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '/': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">06</font>; <font color="yellow">break</font>;

<br>
    //Вверхний регистр

<br>
    //Вверхний ряд

<br>
    <font color="yellow">case</font> '<font color="yellow">Q</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">9</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">W</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xcb</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">E</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xbb</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">R</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">5</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">T</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">1</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">Y</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xb</font><font color="fuchsia">8</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">U</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xB</font><font color="fuchsia">0</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">I</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xdc</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">O</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xB</font><font color="fuchsia">1</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">P</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">0</font><font color="yellow">b</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '{': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">1</font><font color="yellow">e</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '}': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">1</font><font color="yellow">f</font>; <font color="yellow">break</font>;

<br>
    //средний ряд

<br>
    <font color="yellow">case</font> '<font color="yellow">A</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xcc</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">S</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xce</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">D</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xb</font><font color="fuchsia">9</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">F</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">6</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">G</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">8</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">H</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xb</font><font color="fuchsia">5</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">J</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xde</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">K</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xdb</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">L</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xdd</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> ':': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">0</font><font color="yellow">c</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '\"': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xfb</font>; <font color="yellow">break</font>;

<br>
    //нижний ряд

<br>
    <font color="yellow">case</font> '<font color="yellow">Z</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xc</font><font color="fuchsia">8</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">X</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xca</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">C</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xbc</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">V</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xd</font><font color="fuchsia">4</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">B</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xcf</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">N</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xbe</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<font color="yellow">M</font>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xB</font><font color="fuchsia">2</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '<': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xdf</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '>': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">xFE</font>; <font color="yellow">break</font>;

<br>
    <font color="yellow">case</font> '?': <font color="yellow">key</font>=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">15</font>; <font color="yellow">break</font>;      

<br>
  }

<br>
  <font color="yellow">return</font> <font color="yellow">key</font>;

<br>
}

<br>
//---------------------------------------------------------------------------

<br>
<font color="yellow">int</font> <font color="yellow">main</font>(<font color="yellow">int</font> <font color="yellow">argc</font>, <font color="yellow">char</font>* <font color="yellow">argv</font>[])

<br>
{

<br>
        <font color="yellow">long</font> <font color="yellow">int</font> <font color="yellow">p</font>;

<br>
        <font color="yellow">int</font> <font color="yellow">err</font>;

<br>
        <font color="yellow">char</font> <font color="yellow">comm</font>[<font color="fuchsia">80</font>],<font color="yellow">x</font>, <font color="yellow">y</font>,<font color="yellow">key</font>;

<br>
        <font color="yellow">Page</font>=<font color="fuchsia">0</font>;

<br>
        <font color="yellow">Col</font>=<font color="fuchsia">0</font>;

<br>
        <font color="yellow">Row</font>=<font color="fuchsia">0</font>;

<br>
        <font color="yellow">modify</font>=<font color="fuchsia">0</font>;

<br>
        <font color="yellow">RedString</font>=<font color="fuchsia">5</font>;

<br>
        <font color="yellow">insert</font>=<font color="fuchsia">0</font>;

<br>
        <font color="yellow">numbermode</font>=<font color="fuchsia">0</font>;

<br>
        <font color="yellow">graphmode</font>=<font color="fuchsia">0</font>;

<br>
        <font color="yellow">CountNumber</font>=<font color="fuchsia">0</font>;

<br>
        <font color="yellow">textmode</font>(<font color="fuchsia">2</font>); //Установить текстовой режим <font color="fuchsia">80</font><font color="yellow">x</font><font color="fuchsia">25</font> <font color="fuchsia">16</font>

<br>
        <font color="yellow">if</font>(<font color="yellow">argc</font>><font color="fuchsia">1</font>)

<br>
        {

<br>
          <font color="yellow">if</font>(<font color="yellow">LoadFile</font>(<font color="yellow">argv</font>[<font color="fuchsia">1</font>]))

<br>
            <font color="yellow">strcpy</font>(<font color="yellow">filename</font>,<font color="yellow">argv</font>[<font color="fuchsia">1</font>]);

<br>
          <font color="yellow">else</font>

<br>
            <font color="yellow">New</font>();

<br>
        }

<br>
        <font color="yellow">else</font>      <font color="yellow">New</font>();

<br>
        <font color="yellow">do</font>{

<br>
          <font color="yellow">Print</font>();

<br>
          <font color="yellow">textbackground</font>(<font color="fuchsia">7</font>);

<br>
          <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">1</font>);

<br>
          <font color="yellow">clreol</font>();

<br>
          <font color="yellow">textcolor</font>(<font color="fuchsia">0</font>);

<br>
          <font color="yellow">cprintf</font>("%<font color="yellow">d</font>/%<font color="yellow">d</font> <font color="yellow">X</font>:%<font color="fuchsia">02</font><font color="yellow">d</font> <font color="yellow">Y</font>:%<font color="fuchsia">02</font><font color="yellow">d</font>",<font color="yellow">Page</font>+<font color="fuchsia">1</font>,<font color="yellow">CountPages</font>+<font color="fuchsia">1</font>,<font color="yellow">Col</font>+<font color="fuchsia">1</font>,<font color="yellow">Row</font>+<font color="fuchsia">1</font>);

<br>
          <font color="yellow">cprintf</font>(" %<font color="yellow">s</font> %<font color="yellow">s</font> | %<font color="yellow">s</font>",(<font color="yellow">insert</font>)?("<font color="yellow">ins</font>"):(""),(<font color="yellow">numbermode</font>)?("<font color="yellow">num</font>"):("")

<br>


<br>
              ,<font color="yellow">filename</font>);

<br>
          <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
          <font color="yellow">textbackground</font>(<font color="fuchsia">2</font>);

<br>
          <font color="yellow">clreol</font>();

<br>
          <font color="yellow">gotoxy</font>(<font color="yellow">Col</font>+<font color="fuchsia">1</font>,<font color="yellow">Row</font>+<font color="fuchsia">2</font>);

<br>
          <font color="yellow">p</font>=<font color="fuchsia">0</font>;

<br>
          <font color="yellow">while</font>(!<font color="yellow">kbhit</font>())

<br>
          {

<br>
            <font color="yellow">p</font>++;

<br>
            <font color="yellow">if</font>(<font color="yellow">p</font>><font color="fuchsia">1000000</font>)

<br>
            {

<br>
              <font color="yellow">p</font>=<font color="fuchsia">0</font>;

<br>
              <font color="yellow">SaveFile</font>("<font color="yellow">autosave</font>.<font color="yellow">txt</font>");

<br>
              <font color="yellow">HintView</font>(<font color="yellow">AUTOSAVE</font>);

<br>
              <font color="yellow">sleep</font>(<font color="fuchsia">1</font>);

<br>
              <font color="yellow">textbackground</font>(<font color="fuchsia">0</font>);

<br>
              <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">25</font>);

<br>
              <font color="yellow">clreol</font>();

<br>
              <font color="yellow">gotoxy</font>(<font color="yellow">Col</font>+<font color="fuchsia">1</font>,<font color="yellow">Row</font>+<font color="fuchsia">2</font>);

<br>


<br>
            }

<br>
          }

<br>
          <font color="yellow">key</font>=<font color="yellow">getch</font>();

<br>
          <font color="yellow">textbackground</font>(<font color="fuchsia">0</font>);

<br>
          <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">25</font>);

<br>
          <font color="yellow">clreol</font>();

<br>
          <font color="yellow">switch</font>(<font color="yellow">key</font>)

<br>
          {

<br>
            <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">BSpace</font>: //Удаление предыдущего символа

<br>
              <font color="yellow">y</font>=<font color="yellow">Row</font>;

<br>
              <font color="yellow">p</font>=<font color="yellow">Page</font>;

<br>
              <font color="yellow">Col</font>--;         //Сдвигаемся на колонку влево

<br>
              <font color="yellow">if</font>(<font color="yellow">Col</font><<font color="fuchsia">0</font>)      //Левая граница экрана

<br>
              {

<br>
                 /*<font color="yellow">Row</font>--;      //Переходим на строку вверх

<br>
                 <font color="yellow">if</font>(<font color="yellow">Row</font><<font color="fuchsia">0</font>)   //Верхняя граница экрана

<br>
                 {

<br>
                   <font color="yellow">if</font>(<font color="yellow">Page</font>><font color="fuchsia">0</font>) { <font color="yellow">Page</font>--; <font color="yellow">Row</font>=<font color="fuchsia">22</font>;} //Пред. страница

<br>
                   <font color="yellow">else</font>         <font color="yellow">Row</font>=<font color="fuchsia">0</font>; //Первая страница

<br>
                 } */

<br>
                 <font color="yellow">Col</font>=<font color="fuchsia">0</font>;       //В начале строки

<br>
                 //Поиск '\<font color="yellow">n</font>' т.е. переход к концу строки

<br>
                 /*<font color="yellow">while</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]!='\<font color="yellow">n</font>') <font color="yellow">Col</font>++;

<br>
                 //Теперь перекопируем в конец строки то,

<br>
                 //что удаляем снизу

<br>
                 <font color="yellow">err</font>=<font color="yellow">Col</font>;

<br>
                 <font color="yellow">while</font>(<font color="yellow">err</font><<font color="fuchsia">80</font>&&<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">err</font>-<font color="yellow">Col</font>]!='\<font color="yellow">n</font>')

<br>
                 {

<br>
                    <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">err</font>]=<font color="yellow">Text</font>[<font color="yellow">p</font>][<font color="yellow">y</font>][<font color="yellow">err</font>-<font color="yellow">Col</font>];

<br>
                    <font color="yellow">err</font>++;

<br>
                 }

<br>
                 */

<br>
              }

<br>
              <font color="yellow">err</font>=<font color="fuchsia">0</font>;  //Здесь <font color="yellow">err</font> -- счетчик

<br>
              <font color="yellow">while</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>+<font color="yellow">err</font>]!='\<font color="yellow">n</font>')

<br>
              {

<br>
                <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>+<font color="yellow">err</font>]=<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>+<font color="yellow">err</font>+<font color="fuchsia">1</font>];

<br>
                <font color="yellow">if</font>(<font color="yellow">err</font><<font color="fuchsia">78</font>) <font color="yellow">err</font>++;

<br>
                <font color="yellow">else</font> <font color="yellow">break</font>;

<br>
              }

<br>
              <font color="yellow">break</font>;

<br>
            <font color="yellow">case</font> <font color="fuchsia">13</font>:    //Переход на новую строку

<br>
              <font color="yellow">Col</font>=<font color="fuchsia">0</font>;

<br>
              <font color="yellow">Row</font>++;

<br>
              <font color="yellow">if</font>(<font color="yellow">Row</font>>=<font color="fuchsia">22</font>)

<br>
              {

<br>
                <font color="yellow">Page</font>++;

<br>
                <font color="yellow">Row</font>=<font color="fuchsia">0</font>;

<br>
                <font color="yellow">if</font>(<font color="yellow">Page</font>><font color="yellow">CountPages</font>)

<br>
                {

<br>
                  <font color="yellow">CountPages</font>++;

<br>
                  <font color="yellow">if</font>(<font color="yellow">CountPages</font>><font color="yellow">MAXPAGECOUNT</font>)

<br>
                    <font color="yellow">CountPages</font>=<font color="yellow">MAXPAGECOUNT</font>;

<br>
                }

<br>
              }

<br>
              <font color="yellow">if</font>(<font color="yellow">insert</font>)

<br>
                <font color="yellow">InsertString</font>();

<br>
              <font color="yellow">break</font>;

<br>
            <font color="yellow">case</font> <font color="fuchsia">0</font>:

<br>
              <font color="yellow">key</font>=<font color="yellow">getch</font>();

<br>
              <font color="yellow">switch</font>(<font color="yellow">key</font>)

<br>
              {

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">1</font>: //Вызов справки

<br>
                  <font color="yellow">if</font>(<font color="yellow">LoadFile</font>(<font color="yellow">HelpFile</font>))

<br>
                     <font color="yellow">strcpy</font>(<font color="yellow">filename</font>,<font color="yellow">HelpFile</font>);

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">2</font>:  //Сохранить

<br>
                  <font color="yellow">HintView</font>(<font color="yellow">SAVEHINT</font>);

<br>
                  <font color="yellow">textbackground</font>(<font color="fuchsia">2</font>);

<br>
                  <font color="yellow">textcolor</font>(<font color="fuchsia">15</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
                  <font color="yellow">cprintf</font>("<font color="yellow">save</font> ");

<br>
                  <font color="yellow">cgets</font>(<font color="yellow">filename</font>);

<br>
                  //Удаляем муссор

<br>
                  <font color="yellow">for</font>(<font color="yellow">err</font>=<font color="fuchsia">0</font>; <font color="yellow">err</font><<font color="yellow">strlen</font>(<font color="yellow">filename</font>);<font color="yellow">err</font>++)

<br>
                    <font color="yellow">filename</font>[<font color="yellow">err</font>]=<font color="yellow">filename</font>[<font color="yellow">err</font>+<font color="fuchsia">2</font>];

<br>
                  <font color="yellow">SaveFile</font>(<font color="yellow">filename</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
                  <font color="yellow">clreol</font>();

<br>
                  <font color="yellow">textbackground</font>(<font color="fuchsia">0</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">25</font>);

<br>
                  <font color="yellow">clreol</font>();

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">3</font>:    //Загрузка

<br>
                  <font color="yellow">HintView</font>(<font color="yellow">LOADHINT</font>);

<br>
                  <font color="yellow">textbackground</font>(<font color="fuchsia">2</font>);

<br>
                  <font color="yellow">textcolor</font>(<font color="fuchsia">15</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
                  <font color="yellow">cprintf</font>("<font color="yellow">load</font> ");

<br>
                  <font color="yellow">cgets</font>(<font color="yellow">filename</font>);

<br>
                  //Удаляем муссор

<br>
                  <font color="yellow">for</font>(<font color="yellow">err</font>=<font color="fuchsia">0</font>; <font color="yellow">err</font><<font color="yellow">strlen</font>(<font color="yellow">filename</font>);<font color="yellow">err</font>++)

<br>
                    <font color="yellow">filename</font>[<font color="yellow">err</font>]=<font color="yellow">filename</font>[<font color="yellow">err</font>+<font color="fuchsia">2</font>];

<br>
                  <font color="yellow">err</font>=<font color="yellow">LoadFile</font>(<font color="yellow">filename</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
                  <font color="yellow">clreol</font>();

<br>
                  <font color="yellow">textbackground</font>(<font color="fuchsia">0</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">25</font>);

<br>
                  <font color="yellow">clreol</font>();

<br>
                  <font color="yellow">if</font>(<font color="yellow">err</font>==-<font color="fuchsia">1</font>) <font color="yellow">HintView</font>(<font color="yellow">NOTMEMORY</font>);

<br>
                  <font color="yellow">if</font>(<font color="yellow">err</font>== <font color="fuchsia">0</font>) <font color="yellow">HintView</font>(<font color="yellow">FILENOTFOUND</font>);

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">4</font>: //вкл\выкл нумерацию

<br>
                  <font color="yellow">numbermode</font>=!<font color="yellow">numbermode</font>;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">5</font>: //вк\выкл псевдографику

<br>
                  <font color="yellow">graphmode</font>=!<font color="yellow">graphmode</font>; 

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">6</font>: //Перейти

<br>
                  <font color="yellow">HintView</font>(<font color="yellow">GOTOHINT</font>);

<br>
                  <font color="yellow">textbackground</font>(<font color="fuchsia">2</font>);

<br>
                  <font color="yellow">textcolor</font>(<font color="fuchsia">15</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
                  <font color="yellow">cprintf</font>("<font color="yellow">goto</font> ");

<br>
                  <font color="yellow">cgets</font>(<font color="yellow">comm</font>);

<br>
                  //Удаляем муссор

<br>
                  <font color="yellow">for</font>(<font color="yellow">err</font>=<font color="fuchsia">0</font>; <font color="yellow">err</font><<font color="yellow">strlen</font>(<font color="yellow">comm</font>);<font color="yellow">err</font>++)

<br>
                    <font color="yellow">comm</font>[<font color="yellow">err</font>]=<font color="yellow">comm</font>[<font color="yellow">err</font>+<font color="fuchsia">2</font>];

<br>
                  <font color="yellow">GoTo</font>(<font color="yellow">atoi</font>(<font color="yellow">comm</font>));

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
                  <font color="yellow">clreol</font>();

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">7</font>: //Поиск

<br>
                  <font color="yellow">HintView</font>(<font color="yellow">FINDHINT</font>);

<br>
                  <font color="yellow">textbackground</font>(<font color="fuchsia">2</font>);

<br>
                  <font color="yellow">textcolor</font>(<font color="fuchsia">15</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
                  <font color="yellow">cprintf</font>("<font color="yellow">find</font> ");

<br>
                  <font color="yellow">cgets</font>(<font color="yellow">comm</font>);

<br>
                  //Удаляем муссор

<br>
                  <font color="yellow">for</font>(<font color="yellow">err</font>=<font color="fuchsia">0</font>; <font color="yellow">err</font><<font color="yellow">strlen</font>(<font color="yellow">comm</font>);<font color="yellow">err</font>++)

<br>
                    <font color="yellow">comm</font>[<font color="yellow">err</font>]=<font color="yellow">comm</font>[<font color="yellow">err</font>+<font color="fuchsia">3</font>];

<br>
                  <font color="yellow">comm</font>[<font color="yellow">strlen</font>(<font color="yellow">comm</font>)-<font color="fuchsia">1</font>]=<font color="fuchsia">0</font>;

<br>
                  <font color="yellow">Find</font>(<font color="yellow">comm</font>);

<br>
                  <font color="yellow">gotoxy</font>(<font color="fuchsia">1</font>,<font color="fuchsia">24</font>);

<br>
                  <font color="yellow">clreol</font>();

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">8</font>: //Замена

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">9</font>: //Меню

<br>
                  <font color="yellow">SaveAsHtml</font>();

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">F</font><font color="fuchsia">10</font>://Выход

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">Ins</font>: //Вставка\замена

<br>
                  <font color="yellow">insert</font>=!<font color="yellow">insert</font>;

<br>
                  <font color="yellow">CountNumber</font>=<font color="fuchsia">0</font>;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">Left</font>: //Курсор влево

<br>
                  <font color="yellow">if</font>(<font color="yellow">Col</font>><font color="fuchsia">0</font>) <font color="yellow">Col</font>--;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">Right</font>://Курсор вправо

<br>
                  <font color="yellow">if</font>(<font color="yellow">Col</font><<font color="fuchsia">79</font>&&<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]!=<font color="fuchsia">0</font>) <font color="yellow">Col</font>++;

<br>
                  <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]==<font color="fuchsia">0</font>&&

<br>
                     <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>-<font color="fuchsia">1</font>]!='\<font color="yellow">n</font>')

<br>
                     <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]='\<font color="yellow">n</font>';

<br>
                  <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]=='\<font color="yellow">n</font>')

<br>
                  {

<br>
                     <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>+<font color="fuchsia">1</font>][<font color="fuchsia">0</font>]!=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">1</font><font color="yellow">a</font>&&

<br>
                        <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>+<font color="fuchsia">1</font>][<font color="fuchsia">0</font>]!=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">1</font><font color="yellow">a</font>) <font color="yellow">Row</font>++;

<br>
                     <font color="yellow">if</font>(<font color="yellow">Row</font>><font color="fuchsia">22</font>)

<br>
                       <font color="yellow">if</font>(<font color="yellow">Page</font><<font color="yellow">CountPages</font>)

<br>
                       {

<br>
                         <font color="yellow">Page</font>++;

<br>
                         <font color="yellow">Row</font>=<font color="fuchsia">0</font>;

<br>
                       }

<br>
                     <font color="yellow">Col</font>=<font color="fuchsia">0</font>;

<br>
                  }

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">Up</font>:   //Курсор вверх

<br>
                  <font color="yellow">Row</font>--;

<br>
                  <font color="yellow">if</font>(<font color="yellow">Row</font><<font color="fuchsia">0</font>)

<br>
                  {

<br>
                    <font color="yellow">Row</font>=<font color="fuchsia">21</font>;

<br>
                    <font color="yellow">if</font>(<font color="yellow">Page</font>==<font color="fuchsia">0</font>) <font color="yellow">Row</font>=<font color="fuchsia">0</font>;

<br>
                    <font color="yellow">if</font>(<font color="yellow">Page</font>><font color="fuchsia">0</font>) <font color="yellow">Page</font>--;

<br>
                  }

<br>
                  <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]==<font color="fuchsia">0</font>)

<br>
                    <font color="yellow">Col</font>=<font color="yellow">strlen</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>])-<font color="fuchsia">1</font>;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">Down</font>:   //Курсор вниз

<br>
                  <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>+<font color="fuchsia">1</font>][<font color="fuchsia">0</font>]!=<font color="fuchsia">0</font>&&<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>+<font color="fuchsia">1</font>][<font color="fuchsia">0</font>]!=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">1</font><font color="yellow">a</font>)

<br>
                    <font color="yellow">Row</font>++;

<br>
                  <font color="yellow">if</font>(<font color="yellow">Row</font>><font color="fuchsia">21</font>)

<br>
                  {

<br>
                    <font color="yellow">Row</font>=<font color="fuchsia">0</font>;

<br>
                    <font color="yellow">if</font>(<font color="yellow">Page</font><<font color="yellow">CountPages</font>) <font color="yellow">Page</font>++;

<br>
                  }

<br>
                  <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]==<font color="fuchsia">0</font>)

<br>
                    <font color="yellow">Col</font>=<font color="yellow">strlen</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>])-<font color="fuchsia">1</font>;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">PgUp</font>: //Страница вверх

<br>
                  <font color="yellow">if</font>(<font color="yellow">Page</font>><font color="fuchsia">0</font>) <font color="yellow">Page</font>--;

<br>
                  <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]==<font color="fuchsia">0</font>)

<br>
                    <font color="yellow">Col</font>=<font color="yellow">strlen</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>])-<font color="fuchsia">1</font>;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">PgDn</font>: //Страница вниз

<br>
                  <font color="yellow">if</font>(<font color="yellow">Page</font><<font color="yellow">CountPages</font>) <font color="yellow">Page</font>++;

<br>
                  <font color="yellow">if</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]==<font color="fuchsia">0</font>)

<br>
                    <font color="yellow">Col</font>=<font color="yellow">strlen</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>])-<font color="fuchsia">1</font>;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">Home</font>: //Начало строки

<br>
                  <font color="yellow">Col</font>=<font color="fuchsia">0</font>;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">End</font>:  //В конец строки

<br>
                  <font color="yellow">while</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]!=<font color="fuchsia">0</font><font color="yellow">x</font><font color="fuchsia">1</font><font color="yellow">a</font>&&

<br>
                        <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]!='\<font color="yellow">n</font>'&&

<br>
                        <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]!=<font color="fuchsia">0</font>) <font color="yellow">Col</font>++;

<br>
                  <font color="yellow">break</font>;

<br>
                <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">Delete</font>:

<br>
                  <font color="yellow">modify</font>=<font color="fuchsia">1</font>;

<br>
                  <font color="yellow">err</font>=<font color="fuchsia">0</font>;  //Здесь <font color="yellow">err</font> -- счетчик

<br>
                  <font color="yellow">while</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>+<font color="yellow">err</font>]!='\<font color="yellow">n</font>')

<br>
                  {

<br>
                    <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>+<font color="yellow">err</font>]=<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>+<font color="yellow">err</font>+<font color="fuchsia">1</font>];

<br>
                    <font color="yellow">if</font>(<font color="yellow">err</font><<font color="fuchsia">78</font>) <font color="yellow">err</font>++;

<br>
                    <font color="yellow">else</font> <font color="yellow">break</font>;

<br>
                  }

<br>
                  <font color="yellow">break</font>;

<br>
                

<br>
              }           

<br>
              <font color="yellow">break</font>;

<br>
            <font color="yellow">case</font> <font color="yellow">key</font>_<font color="yellow">Esc</font>:

<br>
              <font color="yellow">ExitProgram</font>();

<br>
              <font color="yellow">break</font>;

<br>
            <font color="yellow">default</font>:

<br>
              <font color="yellow">modify</font>=<font color="fuchsia">1</font>;

<br>
              <font color="yellow">if</font>(<font color="yellow">graphmode</font>) <font color="yellow">key</font>=<font color="yellow">Graph</font>(<font color="yellow">key</font>);

<br>
              <font color="yellow">if</font>(<font color="yellow">insert</font>)

<br>
              {

<br>
                 <font color="yellow">err</font>=<font color="yellow">strlen</font>(<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>]);

<br>
                 <font color="yellow">while</font>(<font color="yellow">err</font>>=<font color="yellow">Col</font>)

<br>
                 {

<br>
                   <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">err</font>+<font color="fuchsia">1</font>]=<font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">err</font>];

<br>
                   <font color="yellow">err</font>--;

<br>
                 }

<br>
              }

<br>
              <font color="yellow">Text</font>[<font color="yellow">Page</font>][<font color="yellow">Row</font>][<font color="yellow">Col</font>]=<font color="yellow">key</font>;

<br>
              <font color="yellow">Col</font>++;

<br>
              <font color="yellow">if</font>(<font color="yellow">Col</font>>=<font color="fuchsia">80</font>)

<br>
              {

<br>
                <font color="yellow">Col</font>=<font color="fuchsia">0</font>;

<br>
                <font color="yellow">Row</font>++;

<br>
                <font color="yellow">if</font>(<font color="yellow">Row</font>>=<font color="fuchsia">22</font>)

<br>
                {

<br>
                  <font color="yellow">Row</font>=<font color="fuchsia">0</font>;

<br>
                  <font color="yellow">Page</font>++;

<br>
                  <font color="yellow">if</font>(<font color="yellow">Page</font>><font color="yellow">CountPages</font>)

<br>
</P>
</body>
</html>
